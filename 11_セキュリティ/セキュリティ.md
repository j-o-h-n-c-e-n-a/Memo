### 脆弱性を利用した攻撃
    攻撃とは、資産の破壊，暴露，改ざん，無効化，盗用，又は認可されていないアクセス若しくは使用の試みのこと
* クロスサイト攻撃
* インジェクション攻撃
* スプーフィング攻撃
* セッションハイジャック
* Dos攻撃
* サイドチャネル攻撃
* 不正入力
* 中間者攻撃
* ポートスキャン攻撃
### 脆弱性への対応
    セキュリティ品質が高いことは企業価値や競争力の源泉
1. 自社と顧客を守る
    * 自社のみならず、サプライチェーンの関係各位にも影響がある
2. 自社への信頼を高める
    * 脆弱性対応は製品やサービスの品質を保つ取組である
3. 社会的要請に応える
    * 脆弱性によりサイバー攻撃の踏み台となってしまい、意図せずに攻撃に加担することがある
    * 社会の一員として脆弱性対応に取り組むことは企業の社会的責任（CSR）の１つと認識する
### 脅威
    世の中にどのような脅威があるのかを知る
#### 標的型攻撃
#### ランサムウェア
* WannaCry
* EternalBlue
#### ビジネスメール詐欺による被害
    「ビジネスメール詐欺」（Business E-mail Compromise：BEC）は巧妙に細工したメールのやりとりにより、企業の担当者を騙し、攻撃者の用意した口座へ送金させる詐欺の手口である。詐欺行為の準備としてウイルス等を悪用し、企業内の従業員の情報が窃取されることもある。以前は主に海外の組織が被害に遭ってきたが、2016年以降、国内企業でも被害が確認されている。
* バックドア
* ボット
    1. ウイルス対策ソフトやスパイウェア対策ソフトの導入と、それらのソフトが使用する(ウイルス)定義ファイル等の定期的な更新およびウイルス検査の実施（できればリアルタイム検査の実施）
    2. 見知らぬメールの添付ファイルは安易に開かない
    3. 不審なWebサイトの閲覧を控える
    4. ブラウザ等のインターネットオプションの有効利用
    5. スパムメールなどの、甘い誘いのリンクはクリックしない
    6. インターネット接続でのルータの利用や(パーソナル)ファイアウォールの導入と、それらの正しい設定・運用
    7. コンピュータ上のＯＳやアプリケーションを常に最新状態にしておく(Windows Updateの実行など) 
* 水飲み場攻撃
* フィッシング
* 攻撃手口
    - 取引先になりすまし、偽装した請求書を送りつける
    - 経営者等になりすまし、指定の口座へ振り込ませる
    - メールアカウントを乗っ取り、従業員になりすまし、偽の請求書を送りつける
    - 弁護士など社外の権威ある第三者になりすまし、指定の口座へ振り込ませる
    - 詐欺を行う前に経営者等になりすまし、企業内の従業員の情報を盗み取る
    - 取引先のメールアドレスに模したアドレスでメール配信
* 被害の予防
    - メールの真正性を確認
    - 振込先の口座変更ある場合は取引先に連絡
    - 普段と異なる言い回しや表現の誤りに注意
    - 送信元アドレスや送信元ドメインを確認
    - 電子署名の付与（なりすまし防止）
    - メールを利用しない取引方法を検討
* 被害を受けた後の対応
    - CSIRTへ連絡
    - 警察に相談
    - 詐称されている組織への連絡
    - 影響調査および原因の追究
#### 脆弱性対策情報の公開に伴う悪用増加
    ソフトウェア製品の脆弱性対策情報の公開は、脆弱性の脅威や対策情報を広く呼び掛けられるメリットがある。一方、その情報を攻撃者に悪用され、当該ソフトウェア製品を利用した対策前のシステムを狙う攻撃が行われている。また、近年では脆弱性情報の公開後、その脆弱性を悪用した攻撃が本格化するまでの時間が一層短くなっている傾向がある。なお、脆弱性対策情報の公開前に攻撃が行われる場合もある。
* ゼロデイ攻撃
    - あやしいＷｅｂサイトの閲覧やメールを開かないなどの対策
* 攻撃手口
    - 脆弱性対策情報を基に攻撃コードを作成
    - パッチ適用する前のソフトウェア製品の利用者を攻撃
    - 未知もしくは未公開の脆弱性を悪用（ゼロデイ攻撃）
    - Apache StrutsやWordPressなど広く利用されているソフトウェア製品を狙う
* 被害の予防
    - 資産の把握・体制の整備
    - 脆弱性関連情報の収集
    - OS・ソフトウェアの更新
    - WAF・IPSなどのセキュリティ機器の導入
    - ネットワークの監視
    - セキュリティサポートが充実している製品の利用
* 被害を受けた後の対応
    - CSIRTへ連絡
    - 影響調査および原因の追究
#### 脅威に対応するためのセキュリティ人材の不足
    情報セキュリティにおける脅威は増大の一途を辿っており、毎年のように新たな脅威が出てきている。これらの脅威に対応するためには情報セキュリティの知識や技術を有するセキュリティ人材が求められる。しかし、需要に対するセキュリティ人材の人数が不足しており、また、セキュリティ人材がいたとしても組織は確保するための十分な予算がなく、確保できていないケースもある。セキュリティ人材の不足により、様々な脅威への対応や対策が十分に行えず、被害を拡大してしまうおそれがある。
* 組織としての対応体制の確立
    - 人材における予算の確保や中長期的な戦略
    - 人材育成を視野にした採用
    - ジョブローテ―ションによる技術・知識共有
    - 資格習得などキャリアパスによる人材育成
* 情報リテラシーの向上
    - セキュリティ教育
    - 外部の教育サービスを活用
    - 外部開催のCTFや勉強会等への取り組みを促進
#### IoT 機器の脆弱性の顕在化
    2016年に引き続き、IoT機器の脆弱性を悪用しウイルスに感染させることで、インターネット上のサービスやサーバーに対して、大規模な分散型サービス妨害（DDoS）攻撃が行われる等の被害が確認されている。また、国内で発売されているIoT機器において脆弱性が発見されており、機器を乗っ取られる、または撮影機能等を悪用して個人情報を窃取されるといった危険性があることが公表されている。
* 初期設定のまま
* セキュリティ対策不足
#### その他の攻撃手法
* 辞書攻撃：一般的な単語、人名、地名など良く使われる単語を使用
* パスワードリスト攻撃：他のサイトで流出したものや、初期のID/パスワードなどを利用
* レインボーテーブル：すべてのパスワード候補（文字列）に対するハッシュ値をあらかじめ計算して表にしたもの
* ドライブバイダウンロード：改ざんされたWEBページにアクセスすると、マルウェアが自動でダウンロードされる
* SEOポイズニング：Web検索エンジンの検索結果ページの上位に、マルウェアなどが含まれる悪質なWebサイトを紛れ込ませる
* Smurf攻撃：ターゲットのIPアドレスに偽装して、複数の中継サーバからターゲットにICMP replyを送りつける
* ICMP flood：対象の相手にICMP echoを大量に送りつける
* ショルダーハッキング：肩口から覗き見する
* スキャベンジング：ゴミ箱をあさり、重要な情報を入手する
* MITBへの対策は、利用者が口座番号を入力して作成したワンタイムパスワードを使用し、書き換えられた攻撃者の口座に振り込みをできないようにする
* DLLインジェクション：ブラウザなどのソフトウェアに不正なDLLを注入すること。MITBをこの攻撃手法の一種
* マルウェアからC&CサーバへのHTTP通信をプロキシで止める対策は、プロキシの利用者認証を有効にすること

### リスク分析
* 可用性
* セキュリティ
* データ保護
* リカバリー(迅速な復旧)
* ピーク対応能力
* コンプライアンス
### リスク対応
    リスク移転、リスク回避、リスク保有、リスク低減 
* リスクファイナンス：リスクに対して、損失の補填や対応費用の確保をしておくこと。    - リスクを減らすためのリスク低減やリスク回避に用いる費用ではない
#### ビジネスインパクトの分析
    守るべきものを認識する
* ファイナンシャル
* 顧客離れ
* 損害賠償
    - 
* 業務の硬直化
#### テクノロジーの活用
    セキュリティと利便性のバランスをとる
* ITセキュリティ管理
* 情報ソース
* 組織と教育
* ベストプラクティスの利用
#### 4つの課題
1. 信頼できる情報の欠如と優先順位の不一致
2. 信頼性に欠けるプロセス
3. 人材の不足
4. 柔軟性に欠けるテクノロジー基盤
#### 対策状況の把握
    インシデントの未然防止に努めつつ、発生時に備えた対処を確実に行う
#### 対策の検討と実施
    最小権限の原則を徹底する
#### コスト
## 認証とアクセスコントロール
    認証とは、エンティティの主張する特性が正しいという保証の提供のこと
    責務の分離の原則を徹底する
* 制度の問題：スマートフォンで利用するVPNアカウントを、モバイルPCで利用するものと別に作成する 
* 当該アカウントの認証時に待ち時間を挿入する 
* パスワード認証を無効化し、公開鍵認証を使用する 
* GDSと各地域のDS間で信頼関係を結ぶ 
* 攻撃者はクライアント証明書がなく、ログインできないから 
* 認証を成功させても、事業用システムの利用認可が得られないから 
* リスクベース認証：アクセス状況が普段と異なる場合に検知し、追加の認証を行う方式（IPアドレス、位置情報、アクセス頻度、端末）
* 従業員が仮パスワードを更新しないのは、仮パスワードのままでも業務システムを利用できるから
* リバースブルートフォース攻撃やリスト型攻撃の対策として、利用者の単位時間あたりの認証失敗数がしきい値を超えた場合に、追加の認証を行う
* IPアドレスが固定されない端末からのアクセスを制限する場合は、クライアント証明書を用いた端末認証を行う
* ログイン失敗のエラーメッセージを表示しないのは、攻撃者に攻撃の手がかりを与えないため

## PKI（公開鍵認証基盤）
    http://www.atmarkit.co.jp/ait/articles/0102/17/news003.html
### 鍵生成
### 暗号化と復号
    暗号化するときと復号する時では同じ鍵を利用する（共通鍵暗号方式）
    暗号化するときと復号する時では違う鍵を利用する（公開鍵暗号方式または秘密鍵暗号方式）
### 平文と暗号文
    平文の内容と鍵を変えなければ、暗号文の内容は常に同じになる
    平文の内容が同じでも鍵を変えれば、暗号文は変わる
### 暗号アルゴリズムと鍵
    暗号アルゴリズムと鍵が分かれば復号は容易
    暗号アルゴリズムさえわかっていれば、鍵が分からなくともいつかは解読できる
* 現在、大半の暗号アルゴリズムは仕様が公開されているので、いつかは解読できる
    - 2010年問題（SHA-1アルゴリズムの終焉）
    - 量子コンピュータによる解読
* 共通鍵暗号方式はn(n-1)/2の鍵数が必要であり、公開鍵暗号方式は2nの鍵が必要
### ハイブリット方式
* 電子署名と暗号通信を同時に行う
    - 電子署名は、送信者がハッシュ値を送信者の秘密鍵で暗号化することで行います。
    - 公開鍵暗号方式での暗号化は、セッション(共通)鍵と暗号化されたハッシュ値を、受信者の公開鍵で暗号化することで行います。
* 長文の暗号化・復号には、効率のよい共通鍵暗号方式を用いる
    - 電文の暗号化には、共通鍵を用います。
* 途中で改ざんされていないことが確認できる
    - 送信者が送ったハッシュ値と、送られた平文から計算したハッシュ値が一致していれば、改ざんされていないことが証明できます。
    - 通信が盗聴されたり破棄されたりするリスクは排除できない（通信網での対策が必要）
    - 送信者の公開鍵が本当に本人のモノかは不明（認証局の認証が必要）

## 時刻認証
## VPN
## ファイアウォール・IDS・IPS・UTM
* WAFの場合、検証作業の試験項目がパッチ適用の時よりも少なくて済むから 
* 販売機会損失など、ビジネスへの影響を与えずに誤検知の検証ができる 
* FWのフィルタリングルールで遮断しているから 
* 利用者セグメント２から開発サーバセグメントへの通信を拒否にする 
## サーバセキュリティ
* ミス：事務系LANへの接続時にマルウェアに感染した転送用PCを、その状態のままで製造系LANへ接続すると、製造装置へのマルウェアの感染が広がる 
* 脆弱性修正プログラム及びウィルス定義ファイルを提供するサイトに制限する 
* 初期設定用ネットワークに接続し、W社の駆除ツールをダウンロードして適用した 
* ゼロデイ攻撃
### Webサーバー
* Webサーバーソフトセキュリティ
    + 設定ミス
* Webアプリケーションセキュリティ
    + インジェクション攻撃
    + Cookie、セッション管理
* OSセキュリティ
    + ゼロデイ攻撃
### DNSサーバー
* DNSキャッシュポイズニング
    + カミンスキー攻撃：キャッシュサーバーから権威サーバーへの問い合わせを偽装する（問い合わせ時に使用されるIDと送信元ポート番号が必要）
    + 対策：DNSSECの利用や外部からの再起問い合わせを拒否
* DNSリフレクション攻撃
    + オープンリゾルバ防止機能が適切に設定されていない場合に起きる
### Mailサーバー
* 偽装が容易な「ヘッダFrom/To」と「エンベロープFrom」
* 設定を許可しないことが望ましい「オープンリレー」
* ISPが実施するスパムメール対策「OP25B」
* サブミッションポート（587）とSMTP認証の組み合わせ
* 送信ドメイン認証「SPF」
    + なりすまし対策
### 常時SSL
* メリット
    1. 下記を、Web サイト全体で防止できる
        + 盗聴の防止
        + パケット改竄の防止
    2. なりすましの防止
    3. ブラウザにおける表示方法変更への備え
    4. SEO におけるメリット
* デメリット
    1. サーバー証明書利用のために若干のコスト
    2. 旧システム環境においては、システムが動作しなくなる場合がある
* 証明書の種類
    + ドメイン証明書
    + 組織認証
    + EV証明書
* 証明書のオプション
    + ワイルドカード証明書
    + マルチドメイン証明書
* ハイブリット暗号方式

## 電子メールのセキュリティ
* 設定漏れ：迷惑メール対策装置を経由せずに送信されていた
* 仕様　　：Bccのメール検索は不可
* 迷惑メールの拒否率向上 
* 送信元IPアドレスを監視端末のIPアドレスに限定 
* 外部メールサーバの受信者メールアドレスの拒否リストに、専用メールアドレスを登録する 
* 送信元メールサーバのIPアドレスのホワイトリストにメールサーバZのIPアドレスを追加する 
* メールヘッダ
    + 送信元(From)や送信先(to)のメールアドレス
    + メールが送信された時刻(Date)
    + メールが配送されたルート(Received)
    + メールの返信先(Reply-To)やメール配信エラーの際の差し戻し先 (Return-Path)
    + 電子メールの識別番号(Message-ID)
    + 送信元の使用メールソフト(X-Mailer:)
    + 送信ドメイン認証結果(Received-SPF、Authentication-Results)
* 標的型攻撃
    + 利用者向けの対策
        1. 不審メールに対する注意力の向上
            - メールアドレス
        2. マクロ機能の危険性の周知
        3. ファイルストレージサービスを利用した手口の周知
        4. OLE オブジェクトの危険性の周知
        5. 脆弱性放置の危険性の周知
    + 組織体制による対策
        1. 利用者向け対策の周知徹底
    + システムによる対策
        1. 不審なメールを確保できる仕組みの確立
            - 無害化
            - 通信の遮断
        2. ファイルの実行防止
            - 実行ポリシーの適用
        3. 保護ビューの設定
            - 読取専用で開く
        4. 通信ログの取得と監視

## ICカード
* 抜け道：認証対象者が、認証カードとPINを他人に又貸しして使わせる行為 
* 入退室に必要なため、認証カードの置忘れ及び現場事務所内での保管がなくなる 
* RFID
    - 耐タンパ性
        + 耐熱：85度～
        + 耐圧：オートクレーブに耐えられるモノがある
## 物理的セキュリティ対策
## ログ
### SIEM
    自動化、インシデントの早期発見、フォレンジック、IDSとの組み合わせ
* ログの収集
* 相関分析
## インシデント対応
* 感染したPCを発見した際は、まずは社内LANからの切り離しを行う。
* 感染したPCをシャットダウンしてはいけない理由は、メモリ上の証跡がなくなってしまうから
* インシデント対応の体制を事前に作っておく(原因究明の観点の)メリットは、原因究明に必要な情報の収集に迅速かつ組織的に着手できること
## ネットワーク
### プロキシ
* SSL/TLS
* ウィルス定義ファイル
* ログの記録
* フィルタリング
* https通信対応機能
### 検疫ネットワーク
* 認証スイッチ方式：認証機能のあるスイッチを利用し、VLANによって社内LANへの接続を許可する方式。
* パーソナルファイアウォール方式：PCに検疫ネットーワーク用のパーソナルファイアウォールを導入し、ポリシーから配信されるセキュリティポリシに従う。パーソナルファイアウォールを導入できないPCは利用できない。
* 認証DHCP方式：検疫用のIPアドレスを割り当て、安全性が確認された後、社内LANのIPアドレスを割り当てる。固定でIPアドレスが設定されたPCは利用できない。

## リモートアクセス環境
## モバイルセキュリティ
### 無線LAN
* MACアドレス
* ビーコン：APが定期的にSSIDをネットワーク内のすべてのクライアントに送信するもの
* SSIDステルス：ビーコンにSSIDを含めない
* ANYプローブ：クライアントからSSIDを「ANY」に設定すると、APからSSIDが返却される
* PEAP：利用者IDとパスワードを用いる。暗号化にはTLSを利用
* EAP-TLS：クライアント証明書を用いる。クライアントの端末は認証できるが、利用者の認証はできない。相互認証であるため、秘密鍵・クライアント証明書以外にも、CAのルート証明書が必要
* IEEE802.1X：サプリカント(PC)、オーセンティケータ(スイッチ,AP)、認証サーバ(RADIUS等)の3つの要素で構成

## クラウドサービス
## ウィルス対策
* マルウェア
    - ポリモーフィック型：攻撃用コードを暗号化する
    - メタモーフィック型：攻撃用コードを変化させる
* ランサムウェア：WannaCryptor
    - SMBv1とRDPの無効化(EternalBlue対策)
    - 最新パッチの適用
    - パケットのブロック
    - セキュリティソフトの導入と最新の定義ファイルの適用
    - バックアップをとる
* エクスプロイト
    - 対策
        + 脆弱性を利用するので、パッチ適用などの脆弱性を解消すること
        + 回避策が無い場合は、脆弱性のあるソフトウェアの利用を一時停止すること
        + 予防策として、アンチウィルスソフトを導入することと定義ファイルを最新に保つこと
* ペイロード
## 旬のネタ
### EU一般データ保護規則（GDPR）
#### WHOISへの影響
* 登録者に係る開示情報が限定
* ICANNの活動（ドメイン名や.com,.infoのレジストリ）
### CPU脆弱性
### モバイルやIot機器への攻撃
* Telnetポート
* DDos
* 組み込みソフトウェアの脆弱性
    - アップデート機能の実装と利用
### 仮想通貨
    主に使用される技術要素は、公開鍵暗号(デジタル署名アルゴリズム)、ハッシュ、マークルツリー(ハッシュ木)、P2Pネットワーク
#### ウォレットの管理方法
* ホットウォレット
    + 常時ネットワークに接続
    + 外部からの攻撃によって侵入されることは即ウォレットの盗難となる
* コールドウォレット
    + ネットワークから隔離された環境に秘密鍵を保存する
    + 送金に不便だが、鍵の管理がきちんとされていれば安全
* 鍵の管理方法
    + 秘密分散法
        - 秘密鍵をバラバラに保管する
#### マイニング
#### CoinMiner
* マルウェア型
    - XIAOBAMINER：ランサムウェアであるXiaoBaのコードを再利用している
* スクリプト型
    - メモリ上で実行される
        + 対策：スクリプトをブロックするソフトウェアを導入する
        + 検知：不正サイトへの通信を監視する

### 年号変更
### サマータイム導入

## 参考資料
### 規格
* ISO/IEC 27001
    - 情報セキュリティ
* JIS Q 15001
    - 個人情報保護
* [JIS Q 27000](http://kikakurui.com/q/Q27000-2014-01.html)
* [JIS Q 27002](http://kikakurui.com/q/Q27002-2014-01.html)
### DNSキャッシュポイズニング対策
* https://www.ipa.go.jp/security/vuln/DNS_security.html
### Iotセキュリティ
* https://www.ipa.go.jp/security/iot/iotguide.html
### 政府取組
* http://www.nisc.go.jp/materials/
## 用語集
* オープンリゾルバ
    + オープンリゾルバとはアクセス元を特に制限せず、どこからでも利用することが可能になっているDNSのキャッシュサーバの状態のことを指します。
    + この状態になっていると、外部からのDDoS攻撃の対象になってしまいます。
    + そこで、オープンリゾルバ防止機能が必要になってきて、機能の内容としてはアクセス制限を掛けることで悪意を持った外部からの利用を禁止するという内容になります。
* TXTレコード設定
    + SPFレコード
