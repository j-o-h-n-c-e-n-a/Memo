## サンプル問題
### Q. ある企業が、カスタムAMI上のテキストファイルにアクセスキー(アクセスキーIDおよびシークレットアクセスキー)を格納しようとしています。その企業は、アクセスキーを使用して、AMIから作成されたインスタンスからDynamoDBテーブルにアクセスします。セキュリティチームは、よりセキュアなソリューションを要求しています。セキュリティチームの要求に応えるソリューションはどれですか。
1. アクセスキーをAmazonS3バケットに格納し、起動時にインスタンスからアクセスキーを取得する。
2. インスタンスユーザーデータを介してアクセスキーをインスタンスに渡す。
3. プライベートサブネット内で起動されたキーサーバーからアクセスキーを取得する
4. そのテーブルにアクセスする権限を持つIAMロールを作成し、そのロールを使用してすべてのインスタンスを起動する
<details><div>
    答え：4
</div></details> 

### Q. ある企業が、ステートレス Web サーバーを使用する高可用性 Web アプリケーションを開発しています。 セッション状態データを保持するのに適したサービスはどれですか (2 つ選択してください)。  
1. CloudWatch  
2. DynamoDB  
3. Elastic Load Balancing  
4. ElastiCache  
5. Storage Gateway  
<details><div>
    答え：
</div></details> 

### Q. ある企業において、販売担当者が売上ドキュメントを毎日アップロードしています。ソリューションアーキテクトは、それらのドキュメントを格納するため、重要ドキュメントの誤削除防止機能を備えた高耐久性ストレージソリューションを必要としています。ユーザーによる誤削除を防ぐには、どうすればよいですか。
1. データを EBS ボリュームに格納し、週1回スナップショットを作成する。 
2. データを Amazon S3 バケットに格納し、バージョニングを有効化する。 
3. データを別々の AWS リージョンにある 2 つの Amazon S3 バケットに格納する。 
4. データを EC2 インスタンスストレージに格納する。 
<details><div>
    答え：2
</div></details> 

### Q. あるアプリケーションに対して、初期ストレージ容量が 8 TB の高可用性リレーショナルデータベースが必要です。データベースのサイズは、毎日 8 GB ずつ増加する見込みです。予想されるトラフィック量に対応するため、読み取り処理用として 8 個以上のリードレプリカが必要です。 これらの要件を満たす手段はどれですか。   
1. DynamoDB  
2. Amazon S3  
3. Amazon Aurora  
4. Amazon Redshift  
<details><div>
    答え：3
</div></details> 

### Q. あるソリューションアーキテクトが、EC2 インスタンス上で動作する基幹業務アプリケーションを設計しています。このアプリケーションではリレーショナルデータベースが使用され、最 大 16,000 IOPS の EBS ボリュームが 1 個必要です。 このアプリケーションのパフォーマンス要件を満たす Amazon EBS ボリュームタイプはどれ ですか。   
1. EBS プロビジョンド IOPS SSD  
2. EBS スループット最適化 HDD  
3. EBS 汎用 SSD  
4. EBS コールド HDD  
<details><div>
    答え：1
</div></details> 

### Q. 顧客は、ある Web アプリケーションを使用して、Amazon S3 バケットに注文データをアップロードすることができます。すると、Amazon S3 イベントが発生し、Lambda 関数がトリガされ、メッセージが SQS キューに挿入されます。1 つの EC2 インスタンスによって、キューからメッセージが読み取られて処理され、一意の注文番号で分割された DynamoDB テーブ ルに格納されます。来月のトラフィック量は 10 倍に増える見込みです。ソリューションアーキテクトは、スケーリングに関する問題がアーキテクチャに発生する可能性を調べています。 増加するトラフィックを処理するためにスケーリングできるようにする際、設計の見直しが最も必要であると思われるコンポーネントはどれですか。 
1. Lambda 関数  
2. SQS キュー  
3. EC2 インスタンス  
4. DynamoDB テーブル  
<details><div>
    答え：3
</div></details> 

### Q. アプリケーションによってログが Amazon S3 バケットに格納されています。あるユーザーが、 トラブルシューティングのため、このログを 1 か月間保持し、その後消去したいと考えています。 この要件を満たすには、どの機能を使用すればよいですか。 
1. Amazon S3 バケットに対するバケットポリシーを追加する。 
2. Amazon S3 バケットに対するライフサイクル構成ルールを構成する。 
3. Amazon S3 バケットに対する IAM ポリシーを作成する。 
4. Amazon S3 バケットに対して CORS を有効化する。  
<details><div>
    答え：2
</div></details> 
 
### Q. EC2 インスタンス上で動作するアプリケーションによって、Amazon S3 に格納されている機密情報が処理されています。その機密情報は、インターネットからアクセスされるため、セキュリティチームは、Amazon S3 に対するインターネット接続におけるセキュリティリスクを懸念しています。 このセキュリティ上の懸念を解消するソリューションはどれですか。   
1. インターネットゲートウェイ経由でデータにアクセスする。 
2. VPN 接続を使用してデータにアクセスする。 
3. NAT ゲートウェイ経由でデータにアクセスする。 
4. Amazon S3 に対する VPC エンドポイントを経由してデータにアクセスする。  
<details><div>
    答え：4
</div></details> 

### Q. ある組織が、共有サービス VPC 内に Amazon Redshift クラスターを構築しようとしています。そのクラスター上で機密データがホストされる予定です。 そのクラスターにアクセスできるネットワークを制御するには、どうすればよいですか。 
1. クラスターを別の VPC 内で実行し、VPC ピアリング機能を使用して接続する。 
2. Amazon Redshift クラスター内に、特定のネットワーク上のユーザーに対応するデータベースユーザーを作成する。 
3. クラスターセキュリティグループを作成し、特定のネットワークからのアクセスを許可する。 
4. VPN 経由で共有サービスネットワークに接続するネットワークにのみ、アクセスを許可する。  
<details><div>
    答え：3
</div></details> 
 
### Q. あるソリューションアーキテクトが、オンラインショッピングアプリケーションを設計しています。このアプリケーションは、ELB Application Load Balancer の内側にある EC2 インスタンス上の VPC 内で動作します。EC2 インスタンスは、複数のアベイラビリティーゾーンにまたがる Auto Scaling グループ内で動作します。アプリケーション層では、顧客の管理下にあるデータベースクラスター内のデータに対する読み取りと書き込みを実行する必要があります。インターネットからデータベースにアクセスできないようにする必要がありますが、クラスターはインターネットからソフトウェア更新プログラムを取得できる必要があります。これらの要件を満たす VPC 設計はどれですか。   
1. アプリケーション層とデータベースクラスターの両方をパブリックサブネット内に配置する。  
2. アプリケーション層をパブリックサブネット内に配置し、データベースクラスターをプライベートサブネット内に配置する。 
3. アプリケーション層と NAT ゲートウェイをパブリックサブネット内に配置し、データベースクラスターをプライベートサブネット内に配置する。 
4. アプリケーション層をパブリックサブネット内に配置し、データベースクラスターと NAT ゲートウェイをプライベートサブネット内に配置する。 
<details><div>
    答え：3
</div></details> 
 
## 練習問題
### Q. ECインスタンスが起動しています。この後停止しますが、インスタンスの課金が停止されるのは、どのタイミングですか？
1. ユーザが停止ボタンを押したとき
2. EC2インスタンスの状態が停止になったとき
<details><div>
    答え：２
  EC2はRunning状態のときのみ課金されます。ユーザーが停止ボタンを押すとEC2はPending状態になり、停止状態を待たずに課金は停止されます。
</div></details>

### Q. ECインスタンスが起動しています。EIPがそのインスタンスに関連付けられています。EIPが課金されるのはどれですか？
1. EIPがEC2に関連付けられて、そのEC2が稼働しているとき
2. EIPがEC2に関連付けられて、そのEC2が停止しているとき
3. EIPが付与されているが、どのEC2にも関連付けられていないとき
<details><div>
    答え：２、３
  EIPが付与されながらEC2にアタッチされていないとき、もしくはEC2にアタッチされていたもEC2がRunningの状態にないときに課金されます。また、2つ目のEIPは、EC2が稼働していても有償となります。
</div></details>

### Q. ECインスタンスが起動され、EIPがそのインスタンスに関連付けられています。再起動してアドレスが維持されるのは、次のうちどれですか？
1. パブリックIP
2. プライベートIP
3. EIP
<details><div>
    答え：２、３
  この中ではパブリックIPアドレスのみ、再起動のたびにIPアドレスが変更されます。
</div></details>

### Q. ECインスタンスにはパブリックIPアドレスが割り振られています。外部DNSホスト名はどのようにして取得できますか？
1. マネジメントコンソールからECインスタンスの属性を確認する。
2. OSでhostnameコマンドを実行する。
3. EC2インスタンスのメタデータを確認する。
<details><div>
    答え：１、３
  hostnameコマンドで得られるのはホスト名です。
</div></details>

### Q. EBSのボリュームを削除した後、そのボリュームをなるべく低いコストでかつ、簡潔に復元する方法はどれですか
1. ボリューム内のデータをあらかじめ別のボリュームに保存しておく。そのボリュームをECインスタンスにアタッチする
2. そのボリュームのスナップショットをあらかじめ取得しておく。スナップショットからボリュームを復元する。
3. あらかじめEBSの複製コマンドによってそのボリュームのコピーを保存しておく。そのボリュームをEC2インスタンスにアタッチする
4. そのボリュームを削除してしまったら、どのような方法を用いてもそのボリュームを復元できない
<details><div>
    答え：２
</div></details>

### Q. EBSのボリュームを削除した後、そのボリュームをなるべく低いコストでかつ、簡潔に復元する方法はどれですか
1. EBSスナップショットで保存される世代数には制限がない
2. 最初に取得されたスナップショットはEBS上の実データをすべてバックアップする。2世代目以降のスナップショットは差分バックアップである。
3. 1つのボリュームに対して複数のスナップショットを取得している場合、途中のスナップショットを削除したとしても、残りのいずれのスナップショットからもボリュームを復元することがある。
<details><div>
    答え：１，３
    EBSスナップショットは増分バックアップです。どの世代のスナップショットを削除しても、他のスナップショットに影響はありません。また、スナップショットの世代数に制限はありませんが、世代数を指定することもできます。
</div></details>

### Q. S3の結果整合性の説明で、誤っているのは次のうちどれですか？
1. 読み取り一貫性であり、トランザクションデータが変更中の場合、ほかのトランザクションからは変更前のデータが参照される
2. S3がすべてのアベイラビリティゾーンにオブジェクトの複製を完了した時点で、すべてのデータが最新のものになる
3. クライアントからのオブジェクトの書き込みが完了した時点で、瞬時にS3全体に反映される
4. 更新後に参照したデータは最新の場合もあれば、更新前の場合もある。バージョンがクリティカルにならないデータをS3は扱うべきである
<details><div>
    答え：３
    結果整合性モデルは、最終的には全アベイラビリティゾーン上のオブジェクトが更新され、読み取り一貫性が担保されますが、更新などにおいては更新前の状態が参照される場合があります
</div></details>

### Q. S3のデータの暗号化について、次のうち正しいものはどれですか
1. S3に転送される通信中のデータは暗号化されるが、格納時は暗号化できない
2. S3はデフォルトでデータ格納時に暗号化される
3. APIで該当する機能を呼び出した場合のみ適用される
4. デフォルト暗号化オプションを有効にした場合は常に暗号化される
<details><div>
    答え：２
    バケットのデフォルト暗号化オプションを有効にした場合、常にS3側で暗号化されます。APIで機能を呼び出した場合も暗号化されますが、他にも暗号化の選択肢を有しています。
</div></details>

### Q. Amazon S3 Glacier はどのようなデータを扱うために設計されていますか
1. 頻繫にアクセスするデータ
2. 動的データベースストレージ
3. あまり頻繁にアクセスされないデータ
4. キャッシュされたセッションデータ
5. データアーカイブ
<details><div>
    答え：３、５
    Amazon S3 Glacier は、アクセス頻度が低いデータの長期保存を主な目的として設計されています
</div></details>

### Q. 東京リージョン（ap-northeast-1）のS3標準を使用している場合、ファイルがPUTされるとどこに複製されますか
1. ap-northeast-1 の１つのアベイラビリティゾーン
2. ap-northeast-1 の１つのアベイラビリティゾーンと us-east-1 の１つのアベイラビリティゾーン
3. ap-northeast-1 の複数のアベイラビリティゾーン
4. ap-northeast-1 の複数のアベイラビリティゾーンと us-east-1 の複数のアベイラビリティゾーン
<details><div>
    答え：３
    S3標準では、同一のリージョン内にある3つ以上の複数のアベイラビリティゾーンでオブジェクトが複製されます。
</div></details>

### Q. ある企業はWebアプリケーションのファイル保存先としてS3の利用を検討しています。保存するデータは企業が提供するWebアプリケーションを通してのみアクセスを許可したいと考えている場合、どのようにすればよいですか
1. S3のACLを使用して利用者にのみアクセス権限を与える
2. 署名付きURLを使用する
3. パブリックアクセスを設定する
4. IAMユーザーを使用してアクセス権を与える
<details><div>
    答え：２
    署名付きURLを使用することで、有効期限の設定された一時的なアクセス許可を得たURLを使用してWEBアプリケーションからS3内のオブジェクトにアクセスできます
</div></details>

### Q. ECS利用時に組み合わせて使用されるAWSサービスはどれですか
1. Fargate
2. EMR
3. EKS
4. ECR
<details><div>
    答え：１，４
    FargateはECSのデータプレーンとして使用できます。一方、ECRはコンテナイメージを登録するレジストリとして使用されます。
</div></details>

### Q. ある部品製造企業が、製造拠点から部品データファイルをアップロードし、そのファイルから部品の属性情報を抽出してデータベースに登録しようと計画しています。アップロードするファイルのサイズは1GBあり、属性情報の抽出には数秒の処理時間がかかると想定されます。製造拠点からファイルがアップロードされる頻度は予測できません。何時間もアップロードが発生しないこともあれば、複数のファイルが同時にアップロードされることもあります。最も費用効率の良い方法でこのワークロードを処理できるアーキテクチャはどれですか
1. Kinesis Data Streams を使用してファイルを格納し、Lambdaを使用して処理する。
2. EC2インスタンス上にWebアプリケーションを開発し、アップロードされたファイルの属性情報を抽出して、RDSに格納する
3. 製造拠点のサーバーからEFSにNFSマウントしてファイルを格納する。格納されたファイルにEC2インスタンスからアクセスして処理する
4. ファイルをS3に格納し、S3イベント通信を使用してLambda関数を呼び出し、ファイルを処理する
<details><div>
    答え：４
  ファイルのアップロードのイベントをトリガーとして短い時間で処理を行うには、Lambda関数の利用が適しています。S3にファイルをアップロードすることでアップロードイベントによってLambda関数を起動し、属性情報の抽出及びデータベースの格納処理を行えます。1．のKinesis Data Streamsは、大量のストリーミングデータを収集するサービスですが、容量の大きいファイルのアップロードには向いていません。2．の場合、ファイルのアップロード頻度が予測できないことから、EC2インスタンスを使った実装はコスト効率が悪くなることがあります。Cの場合、ファイルがアップロードされているかをEC2インスタンスが常時EFSにポーリングする仕組みが必要となり、非効率です。
</div></details>

### Q. ある自治体でWEｂ投票システムの構築を計画しています。投票は年に数回程度ですが、投票日には大量のリクエストが予想されます。最も費用効率の良いWeb投票システムのアーキテクチャはどれですか
1. CloudFrontを利用してリクエストを受信する。オリジンサーバーをS3の静的ウェブホスティングで構成し、投票情報をS3に格納する。
2. WebサーバーをリザーブインスタンスのEC2インスタンスで構成する。EC2インスタンスで受信したリクエストを背後のDynamoDBに投票情報として格納する
3. API Gateway を構成してリクエストを受信する。API Gateway からLambda関数を起動し、背後のDynamoDBに投票情報を格納する
4. S3の静的ウェブホスティングを構成し、リクエストを受信する。投票情報をS3に格納する
<details><div>
    答え：３
    この設問は、年に数回しか稼働しないシステムで、かつ稼働するときは大量のトラフィックが予想されるWebシステムという要件です。リクエストが来ないときにできるだけコストがかからず、動的な拡張性を持つシステム構成にします。3．のLambda関数の場合、プログラムの顔づ出の従量課金となるので要件に適しており、投票日の大量のトラフィックにも動的にスケールアウト・スケールインすることで対応できます。2．の場合、システムを利用していない期間もEC2インスタンスやEBSの課金があり、コスト効率が悪くなります。1.4．の場合、データを格納するストレージとしてS3を利用しているため、大量のトラフィックに対応する応答性の要件に適していません。
</div></details>

### Q. Strage Gateway のうち、オンプレミスのサーバーからiSCSIでアクセスできるディスクボリュームとして扱われ、オンプレミスにデータのプライマリコピーを持つのはどのタイプですか
1. 保管型ボリュームゲートウェイ
2. キャッシュ型ボリュームゲートウェイ
3. テープゲートウェイ
4. ファイルゲートウェイ
<details><div>
    答え：１
  保管型ボリュームゲートウェイは、オンプレミスにデータのプライマリコピーを保有します。一方、キャッシュ型ボリュームゲートウェイはS3ｐにデータのプライマリコピーを持ちます。
</div></details>

### Q. 
1. 
2. 
3. 
4. 
<details><div>
    答え：
</div></details>
