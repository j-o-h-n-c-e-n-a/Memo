# 参考
https://eng-entrance.com/lpic_level1_howto

https://www.infraeye.com/study/studyz4.html

https://www.ai-plus.com/it%E3%83%BB%E3%82%B3%E3%83%B3%E3%83%94%E3%83%A5%E3%83%BC%E3%82%BF%E9%96%A2%E9%80%A3%E8%AC%9B%E5%BA%A7/lpic-%E3%83%AC%E3%83%99%E3%83%AB1-%E5%8F%97%E9%A8%93%E5%AF%BE%E7%AD%96%E8%AC%9B%E5%BA%A7

https://ping-t.com/

https://learning.lpi.org/en/learning-materials/101-500/
https://learning.lpi.org/en/learning-materials/102-500/108/108.2/

# トピック 101: システム・アーキテクチャー
## 101.1 ハードウェア設定の決定と構成
* 重さ: 2
* 形容： 受験者は、基本的なシステムハードウェアを決定し、構成できる必要があります
### 主な知識分野:
* 内蔵周辺機器を有効または無効にします。
* さまざまな種類の大容量記憶装置を区別します。
* デバイスのハードウェアリソースを決定します。
* さまざまなハードウェア情報(lsusb、lspciなど)を一覧表示するためのツールとユーティリティ。
* USBデバイスを操作するためのツールとユーティリティ。
* sysfs、udev、dbusの概念的理解。
    + 新しいデバイスが検出されると、udevはディレクトリ /etc/udev/rules.d/ に保存されている事前定義されたルールから一致するものを検索します
    + Udev は、/sys にマウントされたハードウェア関連情報の疑似ファイルシステムである SysFS を利用しています。
### ファイル、用語、およびユーティリティ
    以下は、使用されるファイル、用語、およびユーティリティの部分的なリストです。
* /sys/
* /proc/
* /dev/
* modprobe
    + デバイスドライバのロード
    + モジュールが問題を引き起こしている場合は、ファイル [/etc/modprobe.d/blacklist.conf] を使用してモジュールのロードを禁止できます。
* lsmod
    + カーネルモジュールの表示
* lspci
* lsusb
* modinfo

### 演習
#### 1-1. システムに2番目のSATAディスクを追加した後、オペレーティングシステムが起動できないとします。すべての部品に欠陥がないことをが判明している場合、このエラーの考えられる原因は何でしょうか？
<details><div>
    BIOSセットアップユーティリティで、ブートデバイスの順序を設定する必要があります。そうしないと、BIOSがブートローダーを実行できない場合があります。
</div></details>

#### 1-2. 新しく購入したデスクトップコンピュータのPCIバスに接続されている外部ビデオカードが実際に製造元によって宣伝されているものであることを確認したい場合、コンピュータケースを開くと保証が無効になります。オペレーティングシステムによって検出されたビデオカードの詳細を一覧表示するには、どのコマンドを使用しますか？
<details><div>
    コマンド lspci は、PCIバスに現在接続されているすべてのデバイスに関する詳細情報を一覧表示します。
</div></details>

#### 1-3. 次の行は、コマンド lspci によって生成される出力の一部です。
    03:00.0 RAID bus controller: LSI Logic / Symbios Logic MegaRAID SAS 2208 [Thunderbolt] (rev 05)
* このデバイスで使用されているカーネルモジュールを調べるには、どのコマンドを実行しますか?
<details><div>
    コマンド lspci -s 03:00.0 -v または lspci -s 03:00.0 -k
</div></details>

#### 1-4. システム管理者は、bluetooth カーネルモジュールのさまざまなパラメータを、システムを再起動せずに 試してみたいと考えています。しかしながら、 modprobe -r bluetooth を使用してモジュールをアンロードしようとすると、次のエラーが発生します。
    modprobe: FATAL: Module bluetooth is in use.
* このエラーの原因として考えられることは何ですか？
<details><div>
    モジュール bluetooth は実行中のプロセスによって使用されています。
</div></details>

#### 2-1. 時代遅れの接続方法で制御コンピューターと通信する装置など、実稼働環境でレガシーマシンを見つけることは珍しくありません。そういった古いマシンのいくつかの特性には、特別な注意を払う必要があります。たとえば、古いBIOSファームウェアを搭載した一部のx86サーバーは、キーボードが検出されない場合は起動しません。このような問題を回避する方法は何でしょう？
<details><div>
    BIOS構成ユーティリティの、キーボードが見つからない場合にコンピュータのロックする、というオプションを無効にします。
</div></details>

#### 2-2. Linuxカーネルを中心に構築されたオペレーティングシステムは、ARMアーキテクチャに基づくシングルボードコンピュータのように、x86以外のさまざまなコンピュータアーキテクチャでも利用できます。注意深いユーザーは、Raspberry Piのようなマシンには lspci コマンドがないことに気付くでしょう。x86マシンとの違いは何でしょうか？
<details><div>
    ほとんどのx86マシンとは異なり、Raspberry PiのようなARMベースのコンピューターにはPCIバスがないため、コマンド lspci は役に立ちません。
</div></details>

#### 2-3. 多くのネットワークルーターには、USBハードドライブなどの外部デバイスの接続を可能にするUSBポートがあります。これらのほとんどはLinuxベースのオペレーティングシステムを使用していますが、ルーターに一般的なブロックデバイスが他に存在しない場合に、外付けUSBハードドライブは /dev/ ディレクトリでどのように名付けられますか？
<details><div>
    最新のLinuxカーネルはUSBハードドライブを SATAデバイス として扱います。したがって、他のブロックデバイスがシステムに存在しない場合には、対応するファイルは /dev/sda になります。
</div></details>

#### 2-4. 2018年に、 Meltdown として知られるハードウェアの脆弱性が発見されました。これは、多くのアーキテクチャのほぼすべてのプロセッサに影響します。 最近のバージョンのLinuxカーネルは、使用中のシステムに脆弱性があるか否かを通知できます。この情報はどのようにして得られますか？
<details><div>
    ファイル /proc/cpuinfo には、 bugs:cpu_meltdown のように、対応するCPUの既知のバグを示す行があります。
</div></details>


## 101.2 システムのブート
* 重さ: 3
* 形容：候補者は、ブートプロセスを通してシステムをガイドできる必要があります。
### 主な知識分野:
* ブートローダに共通のコマンドを提供し、ブート時にカーネルにオプションを提供します。
* BIOS/UEFI からブート完了までのブートシーケンスに関する知識を実証します。
* SysVinit と systemd の理解。
    + systemd は、SysVinit の後継。
* Upstart の知識。
    + Upstart は、SysVinit の代替となるが、近年は systemd がデフォルトのシステムマネージャーとして採用されている
* ログファイル内のブートイベントを確認します。
    + 起動時を含むメッセージを、カーネル・リング・バッファ と呼ぶメモリ領域に記録します
    + オプションを指定しないコマンド dmesg は、カーネルリングバッファ内の現在のメッセージを表示します 
    + コマンド journalctl --list-boots は、現在のブートからの相対的なブート番号とそのハッシュ値、最初と最後のメッセージのタイムスタンプをリスト表示します
### ファイル、用語、およびユーティリティ
    以下は、使用されるファイル、用語、およびユーティリティの部分的なリストです。
* dmesg
* journalctl
* BIOS
* UEFI
* bootloader
    + Linux用に最も人気のあるブートローダーはGRUB
* kernel
* initramfs
    + ブート処理中に一時的なルートファイルシステムとして使用されるファイルシステムを格納したアーカイブ
* init
    + 代替の初期化デーモンを指定します
* SysVinit
* systemd

### 演習
#### 1-1. BIOSファームウェアを搭載したマシンで、ブートストラップのバイナリはどこにありますか？
<details><div>
    BIOS構成ユーティリティで定義した最初のストレージデバイスの MBR 内
</div></details>

#### 1-2. UEFIファームウェアは、EFIアプリケーションと呼ばれる外部プログラムが提供する拡張機能をサポートします。ただし、これらのアプリケーションは特定の位置になくてはいけません。EFIアプリケーションはシステムのどこに配置されますか？
<details><div>
    EFIアプリケーションは、使用可能なストレージブロックにあるEFIシステムパーティション（ESP）の、互換性のあるファイルシステム（通常はFAT32ファイルシステム）に配置されます。
</div></details>

#### 1-3. ブートローダーを使用すると、カーネルをロードする前にカスタムパラメータを渡すことができます。ルートファイルシステムの場所を誤って設定したためにシステムを起動できない場合に、カーネルにパラメータとして /dev/sda3 にある正しいルートファイルシステムを知らせるにはどうしますか？
<details><div>
    root=/dev/sda3 のように、root パラメータを使用します。
</div></details>

#### 1-4. Linuxマシンの起動プロセスが、次のメッセージで終了しました。
    ALERT! /dev/sda3 does not exist. Dropping to a shell!
* このエラーの原因として考えられることは何ですか？
<details><div>
    カーネルは、ルートファイルシステムとして通知されたデバイス /dev/sda3 を見つけることができませんでした。
</div></details>

#### 2-1. マシンに複数のオペレーティングシステムがインストールされている場合、ブートローダーは選択できるオペレーティングシステムのリストを表示します。新しくオペレーティングシステムをインストールしたときに、ハードディスクのMBRを上書きしてブートローダーの最初のステージを消去してしまい、他のオペレーティングシステムにアクセスできなくなることがあります。 UEFIファームウェアを搭載したマシンでは、このような問題が発生しないのはなぜですか？
<details><div>
    UEFIマシンは、ブートローダーの最初のステージを格納するためにハードディスクの MBRを使用しません。
</div></details>

#### 2-2. カスタムカーネルをインストールするときに、適切なinitramfsの提供を忘れるとどんなことが起こりますか？
<details><div>
    外部カーネルモジュールとしてコンパイルされているファイルシステムタイプの場合、ルートファイルシステムにアクセスできません。
</div></details>

#### 2-3. ブート時のログは数百行の長さに達するため、読みやすいように dmesg コマンドの出力を、less コマンドなどのページャーにパイプすることがよくあります。ページャー使用しなくても済むように、dmesg コマンドに自動的に出力をページ分割させるオプションは何ですか？
<details><div>
    コマンド dmesg -H または dmesg --human では、デフォルトでページャーが有効になります。
</div></details>

#### 2-4. 停止中のマシンから、ファイルシステム全体を含むハードドライブを取り外して、稼働中のマシンのセカンダリドライブとして接続しました。そのマウントポイントが /mnt/hd であるとする時に、journalctl を使用して、/mnt/hd/var/log/journal/ にあるジャーナルファイルの内容を調べるにはどうしますか？
<details><div>
    コマンド journalctl -D /mnt/hd/var/log/journal または journalctl --directory=/mnt/hd/var/log/journal を使用します。
</div></details>
  

## 101.3 ランレベル/ブートターゲットを変更し、システムをシャットダウンまたは再起動する
    この目的には、シングルユーザーモードへの変更、システムのシャットダウンまたは再起動が含まれます。
    候補者は、ランレベル/ブートターゲットを切り替える前にユーザーに警告し、プロセスを適切に終了できる必要があります。
    この目的には、デフォルトの SysVinit ランレベルまたは systemd ブートターゲットの設定も含まれます。また、SysVinitやsystemdの代替手段としてのUpstartの認識も含まれています。
* 重さ: 3
* 形容：受験者は、システムの SysVinit ランレベルまたは systemd ブートターゲットを管理できる必要があります。
### 主な知識分野:
* デフォルトのランレベルまたはブートターゲットを設定します。
* シングルユーザーモードを含むランレベル/ブートターゲット間の変更。
* シャットダウンし、コマンドラインから再起動します。
* ランレベル/ブートターゲットやその他の主要なシステムイベントを切り替える前に、ユーザーに警告します。
* プロセスを適切に終了します。
* acpidの知識。
### ファイル、用語、およびユーティリティ
    以下は、使用されるファイル、用語、およびユーティリティの部分的なリストです。
* /etc/inittab
    + デフォルトのランレベルを定義
* shutdown
    + オプション -r で再起動
    + 時刻の設定も可能
* init
    + /sbin/init
* /etc/init.d/
    + ランレベル設定時のスクリプト保存先
* telinit
    + init に inittab ファイルを再読み込みするように命令
* systemd
    + 7つのタイプ
        - service, socket, device, mount, automount, target, snapshot
* systemctl
    + systemd ユニットの制御コマンド
    + ユニットの有効化、無効化、実行、中断、監視などのタスクを実行
    + reboot コマンドで再起動、 poweroff コマンドでシステムをオフにする
* /etc/systemd/
* /usr/lib/systemd/
* wall
    + shutdown コマンド実行時にすべてのログインユーザーのターミナルセッションにメッセージを送信できます

### 演習
#### 1-1. telinit コマンドを使用してシステムを再起動するにはどうすればよいですか？
<details><div>
    コマンド telinit 6 で、ランレベル6に切り替えます。つまり、システムを再起動します。
</div></details>

#### 1-2. システムがランレベル1に入ると、ファイル /etc/rc1.d/K90network に関連するサービスはどうなりますか？
<details><div>
    ファイル名の先頭に K が付いているため、関連するサービスが停止します。
</div></details>

#### 1-3. ユーザーが、コマンド systemctl を使用して sshd.service ユニットが実行されているかどうかを確認するにはどうしますか？
<details><div>
    コマンド systemctl status sshd.service または systemctl is-active sshd.service を使用します。
</div></details>

#### 1-4. systemdベースのシステムにおいて、システムの初期化中に sshd.service ユニットがアクティブになるようにするには、どのコマンドを実行しますか？
<details><div>
    rootになって、コマンド systemctl enable sshd.service を実行します。
</div></details>

#### 2-1. SysVベースのシステムにおいて、 /etc/inittab で定義されているデフォルトのランレベルは3になっていますが、システムが常にランレベル1で起動します。考えられる原因は何ですか？
<details><div>
    パラメータ 1 または S が カーネルのパラメータリスト に指定されているかもしれません
</div></details>

#### 2-2. systemdベースのシステムにおいて、ファイル /sbin/init は別の実行可能ファイルへのシンボリックリンクです。/sbin/init が指すファイルは何ですか？
<details><div>
    メインのsystemdバイナリ: /lib/systemd/systemd 。
</div></details>

#### 2-3. systemdベースのシステムにおいて、デフォルトのシステムターゲットを確認するにはどうすればよいですか？
<details><div>
    シンボリックリンク /etc/systemd/system/default.target は、デフォルトのターゲットを定義するユニットファイルを指します。コマンド systemctl get-default も使用できます。
</div></details>

#### 2-4. shutdown コマンドでスケジュールされたシステムの再起動をキャンセルするにはどうすればよいですか？
<details><div>
    コマンド shutdown -c を使用します。
</div></details>


# トピック 102: Linux のインストールとパッケージ管理

## 102.1 ハードディスクレイアウトの設計
    重さ: 2
    形容：候補者は、Linuxシステム用のディスクパーティション構成を設計できる必要があります。
### 主な知識分野:
* ファイルシステムとスワップ領域を別々のパーティションまたはディスクに割り当てます。
* システムの意図した用途に合わせて設計を調整します。
* /boot パーティションがブート用のハードウェアアーキテクチャ要件に準拠していることを確認します。
* LVMの基本機能に関する知識。
    + システム管理者に従来のパーティショニングよりも柔軟なディスクスペース管理アプローチを提供するストレージ仮想化の形式
    + 物理ボリュームと論理ボリューム
    + 論理ボリュームの柔軟性
### ファイル、用語、およびユーティリティ
    以下は、使用されるファイル、用語、およびユーティリティの部分的なリストです。
* / (ルート) ファイルシステム
* /var ファイルシステム
    + システムが操作中に書き込みことができる必要のあるファイルとディレクトリを含む
        - /var/log
        - /var/tmp
        - /var/cache
* /home パーティション
* /boot パーティション
    + ブートローダー（GRUB2）がマウント
* EFI システム パーティション (ESP)
    + UEFI のブートローダーとカーネルイメージを格納
    + /boot/efi
* swap領域
    + メモリの２倍程度の領域を確保するとよい
* マウントポイント
    + /mnt : すべての外部デバイスがマウントされるディレクトリ
    + /media : USBドライブ、メモリカードリーダーなど
* パーティション

### 演習
#### 1-1. Linuxシステムでは、GRUBブートローダーのファイルはどこに保存されますか？
<details><div>
    /boot/grub の下。
</div></details>

#### 1-2. PCが常にカーネルをロードできるようにするには、ブートパーティションをどこで終了する必要がありますか？
<details><div>
    シリンダー1024の前。
</div></details>

#### 1-3. EFIパーティションは通常どこにマウントされますか？
<details><div>
    /boot/efi の下。
</div></details>

#### 1-4. ファイルシステムを手動でマウントする場合、通常はどのディレクトリにマウントする必要がありますか？
<details><div>
    /mnt の下。ただし、これは必須ではありません。パーティションは任意のディレクトリにマウントできます。
</div></details>

#### 2-1. ボリュームグループ内の最小単位は何ですか
<details><div>
    ボリュームグループのエクステント。
</div></details>

#### 2-2. 論理ボリュームのサイズはどのように定義されていますか？
<details><div>
    物理エクステントのサイズにボリューム上のエクステントの数を掛けたもの。
</div></details>

#### 2-3. MBRパーティションスキームでフォーマットされたディスクでは、EFIシステムパーティションのIDはどれですか？
<details><div>
    IDは 0xEF です。
</div></details>

#### 2-4. スワップパーティションに加えて、Linuxシステムのスワップスペースをすばやく増やすにはどうすればよいですか？
<details><div>
    スワップ用のファイルを作成して登録する。
</div></details>


## 102.2 ブートマネージャのインストール
    重さ: 2
    形容：候補者は、ブートマネージャを選択、インストール、および設定できる必要があります。
    ブートローダ：これは、オペレーティング・システムのカーネルをロードし、制御を引き渡すことだけを目的としたコード片です。
### 主な知識分野:
* 代替ブート場所とバックアップブートオプションの提供。
* GRUB Legacy などのブートローダをインストールし、設定する。
    + Config File
    + System map
    + Linux kernel
    + 初期RAMディスク
    + ブートローダー関連ファイル
        - /boot/grub
* GRUB 2の基本的な設定変更を行う。
    + grub コマンド
    + デフォルトの設定ファイルは、/boot/grub/grub.cfg
    + /boot/grub/grub.conf
* ブートローダと対話する。
    + チェーンロード
### ファイル、用語、およびユーティリティ
    以下は、使用されるファイル、用語、およびユーティリティの部分的なリストです。
* menu.lst, grub.cfg and grub.conf
* grub-install
* grub-mkconfig
* MBR
    + パーティション数の制限：最大3つのプライマリパーティションと1つの拡張パーティションを複数の論理パーティションに分割
    + 最大ディスクサイズ：2GB
* GPT
* UEFI
    + ESP

### 演習
#### 1-1. 以下の共有ライブラリ名を分割してください。
* linux-vdso.so.l
* libprocps.so.6
* lilbdl.so.2
* libc.so.6
* libsystemd.so.0
* ld-linux-x86-64.so.2
<details><div>
    . で区切られている
</div></details>

#### 1-2. あるソフトウェアを開発し、新しい共有ライブラリ・ディレクトリをシステムに追加したいとします（/opt/lib/mylib）。その絶対パスをmylib.confと呼ばれるファイルに記述します。
* このファイルは、どのディレクトリに置くべきでしょうか？
* 変更を完全に有効にするには、どのようなコマンドを実行すればよいですか？
<details><div>
    /etc/ld.so.conf.d
    ldconfig
</div></details>

#### 1-3. killが必要とする共有ライブラリを列挙するには、どのようなコマンドを使用するのでしょうか？
<details><div>
    ldd /bin/kill
</div></details>

#### 2-1. objdumpは、オブジェクトファイルから情報を表示するコマンドラインユーティリティです。あなたのシステムにobjdumpがインストールされているかどうか確認してください。インストールされていない場合は、インストールしてください。
<details><div>
objdump に -p (または --private-headers) オプションと grep を付けて、glibc の依存関係を表示します。
    objdump -p /lib/x86_64-linux-gnu/libc.so.6 | grep NEEDED
objdump に -p (または --private-headers) オプションと grep を付けて、glibc の soname を表示します。
    objdump -p /lib/x86_64-linux-gnu/libc.so.6 | grep SONAME
objdump に -p (または --private-headers) オプションと grep を付けて、Bash の依存関係を表示します。
    objdump -p /bin/bash | grep NEEDED
</div></details>


## 102.3 共有ライブラリの管理
    重さ: 1
    形容：候補者は、実行可能プログラムが依存する共有ライブラリを決定し、必要に応じてそれらをインストールできる必要があります。
### 主な知識分野:
* 共有ライブラリを識別する。
    + 静的ライブラリ
        - 実行時には、プログラムにはライブラリのコードがすでに含まれているので、ライブラリに依存することはありません。
        - プログラムは重くなる
    + 動的ライブラリ
        - リンカーがプログラムを参照するだけ
        - リソースは軽い
* システム・ライブラリーの一般的な場所を識別する。
    + /lib, /lib32, /lib64, /usr/lib, /usr/local/lib
* 共有ライブラリーをロードします。
### ファイル、用語、およびユーティリティ
    以下は、使用されるファイル、用語、およびユーティリティの部分的なリストです。
* ldd
    + プログラムの共有オブジェクト依存性を表示します
* ldconfig
    + ダイナミックリンカーのランタイムバインディングを設定する。
* readelf
    + ELFファイル（ELFはexecutable and linkable formatの略）についての情報を表示します。
* /etc/ld.so.conf
    + 共有ライブラリーの設定ファイル
* LD_LIBRARY_PATH
    + 共有ライブラリーの格納場所の変数

## 102.4 Debian パッケージ管理の使用
    重さ: 3
    形容：受験者は Debian パッケージツールを使用してパッケージ管理を実行できる必要があります。
### 主な知識分野:
* Debian バイナリパッケージのインストール、アップグレード、アンインストールを行います。
    + dpkg -i PACKAGENAME
    + dpkg -r PACKAGENAME
* インストールされる場合とインストールされない可能性がある特定のファイルまたはライブラリを含むパッケージを検索します。
    + dpkg --get-selections
    + dpkg -L: 特定のパッケージがインストールするすべてのファイルのリストを出力します。
* バージョン、コンテンツ、依存関係、パッケージの整合性、インストール状態 (パッケージがインストールされているかどうか) などのパッケージ情報を取得します。
    + dpkg -I PACKAGENAME
* aptの知識。
    + dpkg の機能のギャップを埋めるもの
    + /etc/apt/sources.list ファイルがどのように動作するか。
### ファイル、用語、およびユーティリティ
    以下は、使用されるファイル、用語、およびユーティリティの部分的なリストです。
* /etc/apt/sources.list
* dpkg
* dpkg -reconfigure
    + パッケージのポストインストールスクリプトを再実行し、管理者がパッケージのインストールに関する設定を調整できるようにするもの
* apt-get
    + パッケージのダウンロード、インストール、アップグレード、システムからの削除に使用されます。
    + 壊れたパッケージの修正： apt-get install -f
* apt-cache
    + パッケージのインデックスを検索するような操作を行うために使用します。
* apt-file
    + パッケージの中身を表示する方法、あるいはどのパッケージが特定のファイルを含んでいるかを調べる方法

### 演習
#### 1-1. package.deb という名前のパッケージを dpkg を使ってインストールするコマンドは何ですか?
<details><div>
    dpkg -i package.deb
</div></details>

#### 1-2. dpkg-query を使って、どのパッケージが 7zr.1.gz という名前のファイルを含んでいるか調べてください。
<details><div>
    dpkg-query -S 7zr.1.gz
</div></details>

#### 1-3. file-roller パッケージが unzip に依存している場合、 dpkg -r unzip を使って unzip という名前のパッケージを システムから削除できますか? そうでない場合、それを行うための正しい方法は何でしょうか?
<details><div>
    dpkg は依存関係を解決しないので、インストールされている他のパッケージがそれに依存している場合、そのパッケージを削除することはできません。この例では、まず file-roller を削除し (依存するものがないと仮定して)、次に unzip を削除するか、あるいは以下のようにして両方を同時に削除します。
        dpkg -r unzip file-roller
</div></details>

#### 1-4. apt-file を使って、どのパッケージが unrar というファイルを含んでいるかを調べるにはどうしたらいいですか?
<details><div>
    apt-file search /usr/bin/unrar
</div></details>

#### 1-5. apt-cache を使って、gimp パッケージの情報を表示するコマンドは何ですか?
<details><div>
    apt-cache show gimp
</div></details>

#### 2-1. http://us.archive.ubuntu.com/ubuntu/ でホストされている、xenial ディストリビューションのための Debian ソースパッケージと、universe コンポーネントのためのパッケージがあるリポジトリを考えてみましょう。/etc/apt/sources.list に追加される対応する行は何でしょうか?
<details><div>
    ソースパッケージはdeb-srcタイプなので、このような行になるはずです。
        deb-src http://us.archive.ubuntu.com/ubuntu/ xenial universe
    この行は /etc/apt/sources.list.d/ にある .list ファイルの中に追加することもできます。名前はあなた次第ですが、xenial_sources.list のような説明的なものにすべきです。
</div></details>

#### 2-2. プログラムをコンパイルしているときに、ヘッダファイル zzip-io.h がシステムに存在しないというエラーメッセージに遭遇しました。どのパッケージがそのファイルを提供しているかを調べるにはどうしたらよいでしょうか?
<details><div>
    apt-file search zzip-io.h
</div></details>

#### 2-3. 依存関係の警告を無視して dpkg を使ってパッケージを削除するにはどうしたらいいですか?たとえシステムにそのパッケージに依存しているパッケージがあったとしても?
<details><div>
    パラメータ --force を使用することもできますが、システムが一貫性のない、あるいは「壊れた」状態で放置される危険性が大きいため、自分が何をしているかを正確に把握していない限り、決して行ってはいけません。
</div></details>

#### 2-4. apt を使って midori というパッケージについてもっと情報を得るにはどうしたらいいですか?
<details><div>
    apt-cache show midori
</div></details>

#### 2-5. apt を使ってパッケージをインストールしたりアップデートしたりする前に、 どのコマンドを使ってパッケージの索引が最新であることを確認すべきですか?
<details><div>
    apt-get updateを使用する必要があります。これにより、/etc/apt/sources.list ファイルまたは /etc/apt/sources.list.d/ ディレクトリに記述されたリポジトリから最新のパッケージインデックスがダウンロードされます。
</div></details>


## 102.5 RPM および YUM パッケージ管理を使用する
    重さ: 3
    形容：受験者は、RPM、YUM、およびZypperを使用してパッケージ管理を実行できる必要があります。
### 主な知識分野:
* RPM、YUM、および Zypper を使用してパッケージをインストール、再インストール、アップグレード、および削除します。
* バージョン、ステータス、依存関係、整合性、シグネチャなどのRPMパッケージに関する情報を取得します。

* パッケージが提供するファイルを決定し、特定のファイルがどのパッケージから来たかを見つけます。

* ソフトウェアリポジトリの一覧表示、追加、削除、有効化、無効化する方法。
* dnfの認識。
    + dnf は Fedora で使用されるパッケージ管理ツールであり、yum のフォークです
### ファイル、用語、およびユーティリティ
    以下は、使用されるファイル、用語、およびユーティリティの部分的なリストです。
* rpm
    + -i PACKAGENAME
    + -U PACKAGENAME
    + -e unzip
    + -qa : インストール済みのすべてのパッケージリストを取得
* rpm2cpio
* /etc/yum.conf
* /etc/yum.repos.d/
* yum
    + yum whatprovides：依存関係の確認
* zypper
    + SUSE LinuxおよびOpenSUSEで使用されるパッケージ管理ツールです

### 演習
#### 1-1. Red Hat Enterprise Linux システムで rpm を使用して、 インストール中にプログレスバーを表示する file-roller-3.28.1-2.el7.x86_64.rpm パッケージをインストールするにはどうしたらよいでしょうか?
<details><div>
    パッケージのインストールには -i パラメータを使用し、インストールの進捗を示す「ハッシュマーク」を有効にするには -h オプションを使用します。つまり、答えは、
        rpm -ih file-roller-3.28.1-2.el7.x86_64.rpm 
    となります。
</div></details>

#### 1-2. rpm を使用して、/etc/redhat-release ファイルを含むパッケージを探します。
<details><div>
    ファイルに関する情報を照会しているので、-qf パラメータを使用します： 
        rpm -qf /etc/redhat-release。
</div></details>

#### 1-3. システム内のすべてのパッケージのアップデートをチェックするために、yum をどのように使用しますか?
<details><div>
    パッケージ名を指定せずに check-update オペレーションを使用します： 
        yum check-update.
</div></details>

#### 1-4. zypper を使用して、repo-extras と呼ばれるリポジトリをどのように無効化しますか?
<details><div>
    レポのパラメータを変更するには、modifyrepo オペレーションを使用し、無効にするには -d パラメータを使用します： 
        zypper modifyrepo -d repo-extras.
</div></details>

#### 1-5. 新しいリポジトリを記述した.repoファイルがある場合、このファイルはDNFに認識されるようにどこに置くべきですか？
<details><div>
    DNFのための.repoファイルは、YUMで使用されるのと同じ場所、/etc/yum.repos.d/の中に置かれるべきです。
</div></details>

#### 2-1. どのパッケージが /usr/sbin/swapon ファイルを所有しているかを調べるには、 zypper をどのように使用すればよいのでしょうか?
<details><div>
    se (検索) 演算子と --provides パラメータを使います: 
        zypper se --provides /usr/sbin/swapon.
</div></details>

#### 2-2. dnfを使ってシステムにインストールされているすべてのパッケージのリストを得るにはどうしたらよいですか?
<details><div>
    dnf list --installed のように、 list 演算子の後に、 --installed パラメータを指定します。
</div></details>

#### 2-3. dnf を使用して、https://www.example.url/home:reponame.repo にあるリポジトリをシステムに追加するコマンドは何ですか?
<details><div>
    dnf config-manager --add_repo https://www.example.url/home:reponame.repo.
</div></details>

#### 2-4. zypperを使ってunzipパッケージがインストールされているかどうかを確認するにはどうしたらいいですか?
<details><div>
    インストールされている (-i) パッケージを検索 (se) する必要があります: 
        zypper se -i unzip.
</div></details>

#### 2-5. yum を使って、どのパッケージがファイル /bin/wget を提供しているかを調べます。
<details><div>
    何がファイルを提供しているかを調べるには、whatprovides とファイル名を使用します： 
        yum whatprovides /bin/wget.
</div></details>


## 102.6 仮想化ゲストとしての Linux
    重さ: 1
    形容：受験者は、Linuxゲストシステムにおける仮想化とクラウドコンピューティングの影響を理解する必要があります。
### 主な知識分野:
* 仮想マシンとコンテナの一般的な概念を理解する
* IaaSクラウドの仮想マシンの共通要素である、コンピューティングインスタンス、ブロックストレージ、ネットワーキングについて理解する
* システムのクローンやテンプレートとして使用する際に変更しなければならないLinuxシステムの固有の特性を理解する
* 仮想マシン、クラウドインスタンス、コンテナをデプロイするためにシステムイメージがどのように使用されるかを理解する
* Linuxと仮想化製品を統合するLinuxエクステンションについて理解している
* cloud-initの理解
    + 仮想マシンのデプロイメントを簡素化する便利なツール
    + YAML設定ファイル（cloud-config）から設定を読み込んで適用
### ファイル、用語、およびユーティリティ
    以下は、使用されるファイル、用語、およびユーティリティの部分的なリストです。
* 仮想マシン
    + ハイパーバイザー、リソースをエミュレート
    + IaaS
* Linuxコンテナ
    + linuxカーネル内のコントロールグループの仕組みを利用している
        - 個々のアプリケーション用にリソースをパーティショニングする
* アプリケーションコンテナ
* ゲストドライバ
* SSHホストキー
    + OpenSSH ソフトウェアを使用して、クラウド環境にリモート接続する場合に必要
    + ssh-keygen
        - リモート、クラウドベースのシステムにアクセスするときに使用する公開および非公開のSSHキーペアを生成するために使用します。
    + ssh-copy-id
        - リモート認証を容易にするために、システムの公開SSH鍵をリモートシステムにコピーするために使用します。
* D-BusマシンID
    + インストール時に生成されるマシン識別番号が使用されるLinuxインストールID
    + dbus-uuidgen
        - システムの DBus ID を確認および表示するために使用します。

### 演習
#### 1-1. 完全仮想化ゲストを実行するx86ベースのハードウェアプラットフォームでは、どのようなCPU拡張が必要でしょうか？
<details><div>
    Intel CPUの場合はVT-x、AMD CPUの場合はAMD-Vです。
</div></details>

#### 1-2. 最速のパフォーマンスを必要とするミッションクリティカルなサーバーのインストールでは、どのような種類の仮想化を使用することになるでしょうか？
<details><div>
    Xenなどの準仮想化を利用するオペレーティングシステムでは、ゲストOSがハイパーバイザーと連携するように設計されたソフトウェアドライバーを使用して、利用可能なハードウェアリソースをより有効に活用することができます。
</div></details>

#### 1-3. 同じテンプレートからクローンされた、D-Busを使用する2つの仮想マシンのパフォーマンスが不安定になります。それらは両方とも別々のホスト名とネットワーク構成設定を持っています。それぞれの仮想マシンが異なるD-BusマシンIDを持っているかどうかを判断するために、どのようなコマンドを使用しますか？
<details><div>
    dbus-uuidgen --get
</div></details>

#### 2-1. 次のコマンドを実行して、お使いのシステムで仮想マシンを実行するための CPU 拡張機能がすでに有効になっているかどうかを確認します（結果はお使いの CPU によって異なる場合があります）： grep --color -E "vmx|svm" /proc/cpuinfo. 出力結果によっては、"vmx" が強調表示され (Intel VT-x が有効な CPU の場合)、"svm" が強調表示され (AMD SVM が有効な CPU の場合)、出力されます。結果が出ない場合は、BIOS または UEFI ファームウェアの説明書を参照して、お使いのプロセッサの仮想化を有効にする方法を確認してください。
<details><div>
    結果は、お使いのCPUによって異なります。以下は、UEFI ファームウェアで仮想化拡張機能を有効にした Intel CPU を搭載したコンピュータからの出力例です。
</div></details>

#### 2-2. お使いのプロセッサが仮想化をサポートしている場合は、KVMハイパーバイザーを実行するためのディストリビューションのドキュメントを検索してください。
<details><div>
    KVM ハイパーバイザーを実行するために必要なパッケージをインストールします。
    これは、お使いのディストリビューションによって異なりますが、以下にいくつかの開始点を示します。
Ubuntu - https://help.ubuntu.com/lts/serverguide/libvirt.html
Fedora - https://docs.fedoraproject.org/en-US/quick-docs/getting-started-with-virtualization/
Arch Linux - https://wiki.archlinux.org/index.php/KVM
    グラフィカルデスクトップ環境を使用している場合、KVM インストールで使用できるグラフィカルフロントエンドである virt-manager アプリケーションもインストールすることが推奨されます。これは、仮想マシンのインストールと管理を支援します。
    繰り返しますが、これはディストリビューションによって異なります。Ubuntu を使用した例は、次のようになります。
        sudo apt install virt-manager
    Linux ディストリビューション ISO イメージをダウンロードし、ディストリビューションのドキュメントに従って、この ISO を使用して新しい仮想マシンを作成します。
    
    このタスクは virt-manager パッケージによって簡単に処理されます。しかし、仮想マシンは virt-install コマンドを使用してコマンドラインから作成することができます。両方の方法を試して、仮想マシンがどのようにデプロイされるかを理解してください。
</div></details>



# トピック 103: GNU および Unix コマンド
## 103.1 コマンドラインでの作業
    重さ: 4
### 形容： 候補者は、コマンドラインを使用してシェルやコマンドと対話できる必要があります。目的は Bash シェルを想定しています。
### 主な知識分野:
    単一シェル・コマンドと 1 行コマンド・シーケンスを使用して、コマンド行で基本タスクを実行します。
    環境変数の定義、参照、エクスポートなど、シェル環境を使用および変更します。
    コマンド履歴を使用および編集します。
    定義されたパスの内側と外側でコマンドを呼び出します。
### ファイル、用語、およびユーティリティ
    以下は、使用されるファイル、用語、およびユーティリティの部分的なリストです。
* bash
* echo
* envirment
* 輸出
* ティッカー
* セット
* 解除
* 種類
* どっち
* 男
* ウナメ
* 歴史
* .bash_history
* 引用
 
## 103.2 フィルタを使用したテキストストリームの処理
    重さ: 2
### 形容：候補者は、テキストストリームにフィルターを適用できる必要があります。
### 主な知識分野:
    テキスト・ユーティリティー・フィルターを介してテキスト・ファイルと出力ストリームを送信し、GNU textutils パッケージにある標準の UNIX コマンドを使用して出力を変更します。
### ファイル、用語、およびユーティリティ
    以下は、使用されるファイル、用語、およびユーティリティの部分的なリストです。
* bzcat
* 猫
* 切る
* 頭
* レス
* md5sum
* ティッカー
* オッド
* 糊
* セッド
* シャ256サム
* シャ512サム
* ソート
* 割る
* 尾
* tr
* ユニク
* トイレ
* xzcat
* zcat
 
## 103.3 基本的なファイル管理の実行
    重さ: 4
### 形容： 候補者は、基本的なLinuxコマンドを使用してファイルとディレクトリを管理できる必要があります。
### 主な知識分野:
    ファイルとディレクトリを個別にコピー、移動、削除します。
    複数のファイルとディレクトリを再帰的にコピーします。
    ファイルとディレクトリを再帰的に削除します。
    コマンドでは、単純で高度なワイルドカード指定を使用します。
    find を使用して、種類、サイズ、または時間に基づいてファイルを検索し、操作します。
    tar、cpio、ddの使用法。
### ファイル、用語、およびユーティリティ
    以下は、使用されるファイル、用語、およびユーティリティの部分的なリストです。
* ティッカー
* 見付ける
* mkdir
* mv
* ls
* マイクロメートル
* rmdir
* 接触
* タール
* ティッカー
* ティッカー
* ファイル
* ジップ
* ガンジップ
* bzip2
* バンジップ2
* ティッカー
* unxz
* ファイルのグロビング
 
## 103.4 ストリーム、パイプ、リダイレクトの使用
    重さ: 4
### 形容：候補者は、テキストデータを効率的に処理するために、ストリームをリダイレクトして接続できる必要があります。
    タスクには、標準入力、標準出力、標準エラーのリダイレクト、あるコマンドの出力を別のコマンドの入力にパイプすること、あるコマンドの出力を別のコマンドの引数として使用すること、および出力をstdoutとファイルの両方に送信することが含まれます。
### 主な知識分野:
    標準入力、標準出力、および標準エラーをリダイレクトします。
    あるコマンドの出力を別のコマンドの入力にパイプします。
    あるコマンドの出力を別のコマンドの引数として使用します。
    標準出力とファイルの両方に出力を送信します。
### ファイル、用語、およびユーティリティ
    以下は、使用されるファイル、用語、およびユーティリティの部分的なリストです。
* ティー
* xargs

## 103.5 プロセスの作成、監視、強制終了
    重さ: 4
### 形容：候補者は、基本的なプロセス管理を実行できる必要があります。
### 主な知識分野:
    フォアグラウンドとバックグラウンドでジョブを実行します。
    ログアウト後も実行を継続するようにプログラムに信号を送ります。
    アクティブなプロセスを監視します。
    表示するプロセスを選択してソートします。
    プロセスにシグナルを送信します。
### ファイル、用語、およびユーティリティ
    以下は、使用されるファイル、用語、およびユーティリティの部分的なリストです。
* &
* ティッカー
* fg
* ジョブ
* 殺す
* ノハップ
* psの
* ページのトップへ
* 無料
* アップタイム
* pgrep
* プキル
* キルオール
* 時計
* スクリーン
* ティッカー

## 103.6 プロセス実行優先度の変更
    重さ: 2
### 形容：候補者は、プロセス実行の優先順位を管理できる必要があります。
### 主な知識分野:
    作成されるジョブのデフォルトの優先順位を把握します。
    デフォルトよりも高いまたは低い優先順位でプログラムを実行します。
    実行中のプロセスの優先順位を変更します。
### ファイル、用語、およびユーティリティ
    以下は、使用されるファイル、用語、およびユーティリティの部分的なリストです。
* ナイス
* psの
* レニス
* ページのトップへ
 
## 103.7 正規表現を使用したテキストファイルの検索
    重さ: 3
### 形容：候補者は、正規表現を使用してファイルとテキストデータを操作できる必要があります。
    この目的には、いくつかの表記要素を含む単純な正規表現の作成と、基本正規表現と拡張正規表現の違いの理解が含まれます。
    また、正規表現ツールを使用して、ファイルシステムまたはファイルコンテンツを検索することも含まれます。
### 主な知識分野:
    いくつかの表記要素を含む単純な正規表現を作成します。
    基本正規表現と拡張正規表現の違いを理解する。
    特殊文字、文字クラス、量指定子、アンカーの概念を理解する。
    正規表現ツールを使用して、ファイルシステムまたはファイルコンテンツを検索します。
    正規表現を使用して、テキストを削除、変更、置換します。
### ファイル、用語、およびユーティリティ
    以下は、使用されるファイル、用語、およびユーティリティの部分的なリストです。
* グレップ
* egrep
* フグラップ
* セッド
* 正規表現(7)

## 103.8 基本的なファイル編集
    重さ: 3
### 形容：候補者はviを使用してテキストファイルを編集できる必要があります。
    この目的には、viナビゲーション、viモード、テキストの挿入、編集、削除、コピー、検索が含まれます。また、他の一般的なエディタの認識とデフォルトのエディタの設定も含まれています。
### 主な知識分野:
    vi を使用してドキュメントをナビゲートします。
    vi モードを理解して使用する。
    viのテキストを挿入、編集、削除、コピー、および検索します。
    Emacs、nano、vimの認識。
    標準エディターを構成します。
### ファイル、用語、およびユーティリティ
    規約とユーティリティ:
* 6
* /, ?
* h,j,k,l
* i, o, a
* d, p, y, dd, yy
* ZZ, :w!, :q!
* 編集者


# トピック 104: デバイス、Linux ファイル・システム、ファイル・システム階層標準
## 104.1 パーティションとファイルシステムの作成
    重さ: 2
### 形容：候補者は、ディスクパーティションを設定し、ハードディスクなどのメディアにファイルシステムを作成できる必要があります。これにはスワップパーティションの処理が含まれます。
### 主な知識分野:
    MBRおよびGPTパーティションテーブルを管理する
    さまざまな mkfs コマンドを使用して、次のようなさまざまなファイルシステムを作成します。
    内線2/内線3/内線4
    ティッカー
    ティッカー
    エクスファット
    マルチデバイスファイルシステム、圧縮、サブボリュームなど、Btrfsの基本的な機能知識。
### ファイル、用語、およびユーティリティ
    以下は、使用されるファイル、用語、およびユーティリティの部分的なリストです。
* フディスク
* グディスク
* 別れた
* mkfs
* mkswap

## 104.2 ファイルシステムの整合性を維持する
    重さ: 2
### 形容：候補者は、標準ファイルシステムとジャーナリングファイルシステムに関連する追加データを維持できる必要があります。
### 主な知識分野:
    ファイルシステムの整合性を検証します。
    空き領域と i ノードを監視します。
    単純なファイルシステムの問題を修復します。
### ファイル、用語、およびユーティリティ
    以下は、使用されるファイル、用語、およびユーティリティの部分的なリストです。
* デュ
* ティッカー
* fsck
* e2fsck
* mke2fs
* tune2fs
* xfs_repair
* xfs_fsr
* xfs_db
 
## 104.3 ファイルシステムのマウントとアンマウントの制御
    重さ: 3
### 形容： 候補者はファイルシステムのマウントを構成できる必要があります。
### 主な知識分野:
    ファイルシステムを手動でマウントおよびアンマウントします。
    起動時にファイルシステムのマウントを設定します。
    ユーザーがマウント可能な取り外し可能なファイルシステムを構成します。
    ファイルシステムの識別とマウントのためのラベルと UUID の使用。
    systemd マウントユニットの認識。
### ファイル、用語、およびユーティリティ
    以下は、使用されるファイル、用語、およびユーティリティの部分的なリストです。
* /etc/fstab
* /メディア/
* マウント
* アンマウント
* ブルキッド
* lsblk

104.4 削除済み
 
## 104.5 ファイルのアクセス許可と所有権を管理する
    重さ: 3
### 形容：候補者は、アクセス許可と所有権を適切に使用してファイルアクセスを制御できる必要があります。
### 主な知識分野:
    通常のファイル、特殊ファイル、およびディレクトリに対するアクセス許可を管理します。
    suid、sgid、スティッキービットなどのアクセスモードを使用して、セキュリティを維持します。
    ファイル作成マスクを変更する方法を理解している。
    group フィールドを使用して、グループ・メンバーにファイル・アクセス権を付与します。
### ファイル、用語、およびユーティリティ
    以下は、使用されるファイル、用語、およびユーティリティの部分的なリストです。
* ティッカー
* ウマスク
* チョウン
* ティッカー
 
## 104.6 ハードリンクとシンボリックリンクの作成と変更
    重さ: 2
### 形容： 候補者は、ファイルへのハードリンクとシンボリックリンクを作成および管理できる必要があります。
### 主な知識分野:
    リンクを作成します。
    ハードリンクやソフトリンクを特定します。
    ファイルのコピーとリンク。
    リンクを使用して、システム管理タスクをサポートします。
### ファイル、用語、およびユーティリティ
    以下は、使用されるファイル、用語、およびユーティリティの部分的なリストです。
* ティッカー
* ls
 
## 104.7 システムファイルを検索し、ファイルを正しい場所に配置する
    重さ: 2
### 形容： 受験者は、一般的なファイルの場所やディレクトリ分類など、ファイルシステム階層標準(FHS)に精通している必要があります。
### 主な知識分野:
    FHS の下にあるファイルの正しい場所を理解します。
    Linux システム上のファイルとコマンドを検索します。
    FHSで定義されている重要なファイルとディレクトリの場所と目的を把握します。
### ファイル、用語、およびユーティリティ
    以下は、使用されるファイル、用語、およびユーティリティの部分的なリストです。
* /見付ける
* /見付ける
* /更新済みb
* /ここで、
* /どっち
* /種類
* //etc/updatedb.conf

# ポイント
* GRUB2のインストールコマンド
* GRUBの設定ファイル一式
* GRUBの説明
* mkfs
* BIOS
* XFS (問題多かった)
* tarのtzvオプション
* vimのコマンド(問題多かった)
* ファイルストリーム: cat, cut, tr, wc etc
* dmesg --clean
* リダイレクトの構文(問題多かった)
* yum, rpm, agt-get, rpkg (問題多かった)
* /etc/ld.so.conf
* mount関連(問題多かった)
* 複数選択は2個の選択のみで、3個以上はなかった
* 記述問題はオプション無しのものみであった
* 複数行にまたがる記述はなかった
* 設定ファイルに書くべき文を記述する問題はなかった


# Q&A

## Q. 
1. 
2. 
3. 
4. 
<details><div>
    答え：
</div></details>

## Q. 
1. 
2. 
3. 
4. 
<details><div>
    答え：
</div></details>

## Q. 
1. 
2. 
3. 
4. 
<details><div>
    答え：
</div></details>

## Q. 
1. 
2. 
3. 
4. 
<details><div>
    答え：
</div></details>
