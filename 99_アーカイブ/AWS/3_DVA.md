# 
## 1.デプロイ

### 1.1.a.可用性、スケーラビリティ、メンテナンス
#### EC2、AutoScaling
* ELB配下のWebサーバーをAutoScaling
    + 特徴
        - Webサーバーの負荷に応じてスケール
        - EC2は複数AZに分散し高可用性を担保
    + スケーリングトリガーの例
        - ELBのリクエスト数
        - アプリケーションサブグループ内EC2の平均CPU使用率
* SQSのジョブを処理するワーカーをAutoScaling
    + 特徴
        - ワーカーの負荷に応じてスケール
        - EC2は複数AZに分散し高可用性を担保
        - スポットインスタンスがマッチするケースが多い
    + スケーリングトリガーの例
        - キュー内のメッセージ数
* ECSホストのAutoScaling
    + 特徴
        - ECSクラスタ内のホストを負荷に応じてスケール
        - ホストへのタスクの配置・管理はECSが実施
    + スケーリングトリガーの例
        - ECSホストのCPU使用率
        - ECSホストのメモリ使用率
#### ELB
* 環境でELB作成したあとはELBのタイプを変えることはできない。
* セキュリティグループの割り当て
* スティッキーセッション
* AutoScalingとの連携
* ECSのALB対応
    + ALBによりECSコンテナをまたがった負荷分散
* ACMとの統合
    + ACMを使用して、証明書のリクエストと管理を容易に実施
    + 無料で利用可能
    + ELBに対する証明書の設定を数クリックで完了
* Route 53 DNSフェイルオーバー対応
    + Route53のヘルスチェック機能とELBが連携
* OpsWorksのELB対応
    + OpsWorksでELBをレイヤーにアタッチして、負荷分散が可能
* AWS Trusted AdvisorによるELBのチェック
    + ELBのセキュリティとフォールトトレランスをチェック
#### S3、EBS
* CloudFrontとの連携
* CloudWatchによるメトリクス管理
* CloudTrailによるAPI管理
    + 操作ログを収集する
#### RDS

### 1.1.b.リリースプロセス
### 1.1.c.CI/CDパイプライン
### 1.1.d.デプロイパターン
#### In-Place
* 稼働中の環境を新しいアプリケーションで更新する。
* 直接アプリを配置して再起動
#### Linear
* トラフィックを毎回、同じ増分、同じ間隔で移行する
#### Blue/Green
* 特徴
    + アプリケーションのデプロイ時にASGを再作成
    + ELBまたはDNSで環境を切替（ルーティング切替が柔軟）
    + ASG作成にはCloudFormationを利用することで環境構築を自動化可能
    + テストリスナーにより本番環境でリリース対象タスクの動作確認が可能
    + 切り戻し作業が楽
* 制約
    + AutoScalingがサポートされない（デプロイ前後で停止～再開する必要がある）
#### Rolling
* サーバーをいくつかのグループに分けて、グループごとにIn-Placeする
* アプリケーションの古いバージョンでリクエストを処理するインスタンスもあり、新しいバージョンでリクエストを処理するインスタンスもある
* キャパシティは減るがダウンタイムはない
#### Rolling with additional batch
* バッチサイズ分の新しいインスタンスを追加してデプロイを実行
* 本番でよく使われる
* Rollingと異なり、キャパシティーを100%に維持できる(メリット)
#### Immuitable
* 同じ環境にASGだけ追加する、それで同じASGが同じDNS名を持つ
* Blue/GreenはDNS名が変わるがこの方法は変わらない
* リリース後は旧環境を削除
* 部分的に完了したローリングデプロイにより発生する問題を防ぐ
* 古いバージョンと新しいバージョンが混在している時間はある
#### All at once
* 全てのサーバで同時にIn-Place更新をする
* サービスはすべて停止する

### 1.2.Elastic Beanstalk
    使い慣れたサーバーでデプロイおよびスケーリングするためのサービス
* 特徴
    + アプリケーションの状態モニタリングと管理のための統一されたユーザーインターフェイス
    + 管理された更新を使用して、最新のプラットフォームバージョンや新しいパッチを自動的に取得できる
* エラー発生したとき、管理者にメール通知したい場合、SNSと連携。
* AWSの各リソースを管理するために、サービスロールと呼ばれるIAMロールが必要
* cron.yamlファイルを設定およびアップロードして、2つの定期的なタスクを作成できる
* env.yaml : EB環境を作成する時に利用
#### CloudFormation
    スタックというAWSリソースの集合体を自動構築
* 開発環境、本番環境を選択できるようにしたい場合、ParametersとConditionsセクションを使う
* 複数のリージョンで独自のAMIを使用したEC２インスタンスを含むアーキテクチャを起動したい場合、Mappingsセクションを使う
* 別の AWS CloudFormation スタックのリソース出力を参照する場合、Outputsセクションを使う
#### AWS SAM
    CloudFormationの拡張機能で、サーバーレスアプリケーションの開発とデプロイを素早く開始できる
#### OpsWorks

### 1.3.デプロイサービス
#### Codeシリーズ
##### CodeCommit
    プライベートなGitリポ
* AWS SNS、Lambda、CloudWatch Event Rulesを使用して通知が可能。
* SSH or HTTPSを使って安全に接続できる
* SSH / HTTPSで使用する認証情報はIAMユーザー毎に生成
* クロスアカウントアクセス有
##### CodeBuild
    ソースコードをコンパイルし、ユニットテストを実行して、すぐにデプロイできるArtifactsを生成
* buildspec.yml
* フックの順序
    1. アプリケーションストップ
    2. バンドルをダウンロード
    3. beforeInstall
    4. afterInstall
    5. アプリケーションスタート
    6. サービスの検証
* CodeBuildコンテナは実行終了時に削除される
* Dockerイメージは、プライベートレジストリからのものも使用できる
* CloudTrailを有効化することでAWS CodeBuildのログを取得できる
* CloudWatchによるモニタリング可能
##### CodeDeploy
    ソフトウェアのデプロイを自動化するフルマネージド型のサービス
* appspec.yml
* EC2、Lambda, オンプレミス、コンテナへの自動的なデプロイメント
* エラーを検知すると、自動的にロールバック
    + 新しいデプロイIDを使用
##### CodePipeline
    迅速かつ信頼性の高いアプリケーション更新を実現
* SNSと連携することで、パイプラインのステージに対して承認アクションを追加することができる
##### CodeStar
    迅速にプロジェクトを開始できるサービス
##### CodeArtifact
    ソフトウェアパッケージを保存して配信できるサービス
* 一般的に使用されるパッケージマネージャ及びビルドツールと連携して動作
#### CodeGuru
* CodeGuru Profiler:アプリケーションのパフォーマンスを可視化
* CodeGuru Reviewer:自動レビュー

### 1.4.サーバーレスアーキテクチャ
#### 代表的なサーバーレスサービス
* AWS Glue：ETL
* EMR：Hadoop/Spark
#### 一般的なサーバーレスアーキテクチャ
* 実行：Lambda
* データ：DynamoDB、S3
    + DynamoDB：結果整合性、
* モニタリング：CloudWatch
* 監査：CloudTrail
* 補助：SQS、SNS
* 暗号化：KMS、IAM
#### サーバーレスストリーミングアーキテクチャ
* Iotデータの収集：Kinesis
* データの変換
* リアルタイム分析

## 2.セキュリティ
### 責任共有モデル
### ネットワークセキュリティ
#### VPC

### 認証と認可
#### IAM
#### Cognito
* ユーザープール：認証とユーザー管理
* IDプール　　　：認可
* Lambdaフック
* カスタム認証フロー
### データおよびアプリケーションのセキュリティ、暗号化
#### ACM
    独自ドメインのアプリケーションでの証明書の管理、設定の機能
#### KMS
    暗号化するためのキーを作成、管理できる
#### HSM
    保管時の暗号化
### 確認
    CloudWatch、CloudTrail
#### API Gateway
    イベントとして API Gateway のすべての API コールをキャプチャ
* リクエストの IP アドレス、リクエスタ、時間を含める
* イベント履歴を確認
* 証跡を作成して S3 バケットにイベントを送信
* API とそのバックエンドサービスにおけるレイテンシーを分析
* 特定のリクエストに着目したサンプリングルールを設定
* サービスマップは個々の地域のデータではなく全ての地域のデータが表示される
* 署名バージョン4を使用してリクエストに署名する
* カスタムオーソライザー
### IAM,STSおよびIdentityFederation
* IAM：明示的に拒否するポリシーがある場合、他の許可されたステートメントを上書きする

## 3.開発
### グローバルインフラストラクチャー
#### AWSリージョン
#### アベイラビリティーゾーン
#### エッジロケーション
##### CloudFront

### 開発環境
#### AWS API
#### SDK
    認証情報を参照する順番   
1. 環境変数
2. java system properties
3. デフォルトのcredential profileファイル
4. コンテナのcredentials
5. EC2のInstance profile credentials
#### Toolkit
#### AWS Cloud9

### ストレージ
#### Amazon Elastic Block StoreとAmazon Elastic File System
#### Amazon Simple Storage Service（S3）
### データベース
#### Amazon RDS、Amazon Aurora
#### Amazon ElastiCache
#### Amazon DynamoDB
    NoSQL。トランザクションが不要で結果整合性が担保されていればよいデータが対象
* 読み込みキャパシティユニット（結果整合性なら最大4KBで2回/s）
* グローバルセカンダリインデックスでは一貫性のある読み取りをサポートしていない
* 一貫性のある読み取りをDAXクラスターにリクエストした場合、結果はキャッシュされない
* DynamoDBストリームとLambdaトリガーの併用はベストプラクティス
* プロジェクション式

### コンピューティング、API
#### Lambda
* タイムアウトは最大15分
* 環境変数は最大4KB
* 関数をスケジューリングするベストプラクティスはCloudWatch Iventを使用すること
* エイリアス機能
#### API Gateway
* Cognito設定
    + IDプール
    + ユーザープール
* エンドポイント
    + エッジ最適化
    + リージョン
    + プライベート
* オプションキャッシュ
    + API キャッシュの TTL 値はデフォルトで 300 秒
    + ステージ毎に設定
    + キャッシュを検証する 2 つの方法
        - CloudWatch メトリクス: CacheHitCount と CacheMissCount
        - タイムスタンプを作成し、API レスポンスに含める
* スロットリング制限
* リソースポリシー
* JWT Authorizer
* Lambdaカスタムオーソライザー
    + カスタムアクセスログの出力

### メッセージング、ステート制御、イベント
#### SQS
* メッセージ保持期間（デフォルト4日間）
* 自動的にメッセージを取得して、ターゲットの Lambda 関数にルーティングします
* Lambda 関数が正常に完了すると、メッセージを削除します
* 通信データの暗号化、CloudTrailに記録
* FIFO キュー（1回）
* デッドレターキュー：使用すると、処理できないメッセージを後で分析するために分離できます
* 可視性タイムアウト：Amazon SQS で、他の消費コンポーネントがメッセージの受信と処理を行わないようにする期間
#### SNS、SES
* プッシュ通知
* SMS
* ＋SQS
#### MQ
* オンプレミスからAWSへのブリッジ
* サードパーティクラウドとのコネクタ
#### Kinesis Streams 
#### StepFunctions
* Lambda関数、SNS Publish、ETL
* モニタリング
    + CloudWatch Logsに出力された各Stateの実行ログを確認する
    + マネージメントコンソールから実行履歴を確認する
    + X-Ray トレースマップから処理のタイムラインを確認する
    + CloudTrailからAPI実行履歴を確認する
#### EventBridge
    イベント駆動

### コンテナ
* 主な設定機能
    + コンテナの配置管理
    + Load Balancer統合による負荷分散
    + コンテナの状態監視と自動復旧
    + コンテナのスケーリング
    + コンテナのIAM権限管理
    + CloudWatch Metrics・Logs統合
* ECS Task PlacementはECS with EC2のみ使用可能
    + 3つのタイプ
        1. Binpack - 使用するインスタンスの数を最小にしようとする most cost effective
        2. Ramdom - タスクをランダムに配置する
        3. Spread - インスタンスIDやAZに基づいてタスクを分散配置する
    + 2つの制約
        1. distinctInstance - それぞれのタスクは異なるコンテナインスタンスに配置する
        2. memberOf - クラスタークエリ言語を使用して制約を定義可能     example:t2のインスタンスにのみタスクを配置する

## 4.リファクタリング
    ベストプラクティスへの理解を深めること
### DVA の原則(ベストプラクティス)
* スケールアップよりもスケールアウト
* アクセスキーより IAM ロールが望ましい
* アンマネージドサービスよりもマネージド
* リソースや API を直接公開する事は避け、AWS エッジサービスや API ゲートウェイを使用する
* サーバーにセッション状態を保存していては優れたアーキテクチャにはならない
* インフラストラクチャを疎結合化する
* サーバーレス化する
* トラブルシューティング時には、セキュリティグループや NACL を常に確認する
* VPC のプライベートサブネット内に作成されたインスタンスは、NAT を使用しない限りインターネットと通信することが出来ない
* インターネットと通信するには、インターネットゲートウェイとルートテーブルのルートが必要
* EBS ボリュームは、EC2 インスタンスに疎結合されている。
    + ブートボリュームの場合を除いて、アタッチまたはデタッチできる
### スケーラビリティを確保する
### 環境を自動化する
### 使い捨て可能にする
### 疎結合にする
### サーバーではなくサービスを設計する
### 適切なデータベースを選択する
### 単一障害点をなくす
### コストを最適化する
### キャッシュを使用する
### すべてのレイヤーでセキュリティを実装する
### 増え続けるデータを処理する

### 移行
#### 6つのR
    Re-HostとRe-platform
1. Retain
    + 今は変更を加えず、将来再検討する
2. Re-host
    + リフト、シフトする
3. Refactor
    + 再設計
4. Re-platform
    + リフト、変更、シフトする
5. Replace
    + 既にクラウドに存在するソリューションを購入する
6. Retire
    + アプリケーションやシステムが価値を提供しているかどうかを評価する
#### 実施に向けて

## 5.モニタリングとトラブルシューティング
    ベストプラクティスへの理解を深めること
### モニタリング
#### CloudWatch
* 基本的なモニタリングにアラームを設定する場合 - 少なくとも5分
* 詳細なモニタリングにアラームを設定する場合 - 少なくとも1分
* CloudWatch Logs

#### VPCフローログ
* CloudWatch Logsへの発行する場合は、IAMロールが必要

#### X-Ray
* SQSと統合されている場合、リソースヘッダーはSQSのメッセージサイズ等に影響しない
* サンプリングルールのデフォルト - 1秒あたりに1つのリクエスト、ホスト毎の追加の5%の要求がリクエストされる
* X-Ray SDKが提供するもの 
    + インターセプター コードに追加して受信 【HTTP リクエストをトレース】する
    + クライアントハンドラー アプリケーションが他の AWS サービスの呼び出しに使用する AWS SDK クライアントを計測する
    + An HTTP クライアント 別の内部および外部 HTTP ウェブサービス呼び出しを計測する
* EC2・ECS・Lambda・ElasticBeanstalkなどど連携可能
* セグメント：動作に関するデータ（リソース名、リクエスト詳細など）
* サブセグメント：呼び出しに関する追加の詳細な情報（AWSサービス、データベースなど）

#### CloudTrail
* CloudTrailはログをS3バケットに保存

### トラブルシューティング
#### スロットリングエラー
* リクエスト拒否や遅延が発生する原因にスロットリングエラー
* これはサービスAPIの制限リクエスト回数に達したために発生
#### エクスポネンシャルバックオフ
* スロットリングエラーや5XXサーバー側のエラーが発生した際には、アプリケーションからの再試行が必要
#### セキュリティのトラブルシューティング
* AWSサービスに対してのリクエストが拒否される原因は、IAMポリシーで許可されていないか、拒否されているかのいずれか

## 0. ベストプラクティス


## 参考
https://docs.aws.amazon.com/whitepapers/latest/practicing-continuous-integration-continuous-delivery/welcome.html?did=wp_card&trk=wp_card
https://docs.aws.amazon.com/whitepapers/latest/change-management-in-the-cloud/change-management-in-the-cloud.html?did=wp_card&trk=wp_card
https://docs.aws.amazon.com/wellarchitected/latest/serverless-applications-lens/welcome.html?did=wp_card&trk=wp_card
https://docs.aws.amazon.com/whitepapers/latest/s3-optimizing-performance-best-practices/welcome.html?did=wp_card&trk=wp_card
https://docs.aws.amazon.com/wellarchitected/latest/management-and-governance-lens/management-and-governance-lens.html?did=wp_card&trk=wp_card
https://docs.aws.amazon.com/wellarchitected/latest/saas-lens/saas-lens.html?did=wp_card&trk=wp_card
https://docs.aws.amazon.com/whitepapers/latest/practicing-continuous-integration-continuous-delivery/welcome.html?did=wp_card&trk=wp_card
https://docs.aws.amazon.com/wellarchitected/latest/cost-optimization-pillar/welcome.html?did=wp_card&trk=wp_card
https://docs.aws.amazon.com/wellarchitected/latest/performance-efficiency-pillar/welcome.html?did=wp_card&trk=wp_card
https://docs.aws.amazon.com/wellarchitected/latest/security-pillar/welcome.html?did=wp_card&trk=wp_card
https://docs.aws.amazon.com/whitepapers/latest/building-scalable-secure-multi-vpc-network-infrastructure/welcome.html?did=wp_card&trk=wp_card
https://docs.aws.amazon.com/whitepapers/latest/real-time-communication-on-aws/welcome.html?did=wp_card&trk=wp_card
https://docs.aws.amazon.com/whitepapers/latest/microservices-on-aws/microservices-on-aws.html
https://docs.aws.amazon.com/whitepapers/latest/tagging-best-practices/tagging-best-practices.html
https://docs.aws.amazon.com/whitepapers/latest/kms-best-practices/welcome.html?did=wp_card&trk=wp_card
https://docs.aws.amazon.com/whitepapers/latest/blue-green-deployments/welcome.html?did=wp_card&trk=wp_card
https://docs.aws.amazon.com/wellarchitected/latest/serverless-applications-lens/welcome.html?did=wp_card&trk=wp_card
https://dev.classmethod.jp/articles/awssummit-aws-27/

## サンプル問題
### Q1. ある企業のアプリケーション開発チームは、Java アプリケーションを開発し、ソースコードを .war ファイルに保存しました。AWSリソース上でアプリケーションを実行したいと考えており、実行される基礎となるリソースのプロビジョニングと管理を処理できるサービスを探しています。ソリューションアーキテクトは、開発者がJavaソースコードファイルをアップロードするためにどのAWSサービスを使用することを推奨すべきですか？
1. AWS Elastic Beanstalk
2. AWS OpsWorks
3. AWS CodeDeploy
4. AWS CloudFormation
<details><div>
    答え：１
</div><div>
    AWS Elastic Beanstalkは、AWSクラウドにアプリケーションを迅速にデプロイし、管理するために使用することができます。開発者はアプリケーションをアップロードし、Elastic Beanstalkは容量のプロビジョニング、ロードバランシング、自動スケーリング、アプリケーションのモニタリングなどを処理します。
</div></details>

### Q2. RDS MYSQLデータベースから定期的にデータを集計して、自動的にレポートを生成するタスクを実装する必要があります。毎回同一のクエリ処理でデータ集計を行うことができ、Lamdba関数を用いて実装することを検討しています。この要件を満たすことが出来るLamdba関数の実装方法を選択してください。
1. LambdaをRDSに連携して、データ処理を実施する関数を作成する。
2. RDSプロキシを利用し、データベースに流れるトラフィックを処理する。
3. RDSのスティッキーセッションを有効化する。
4. Lambda関数をSQSによるポーリング処理と連携してRDSへのデータ処理を行う。
<details><div>
    答え：２
</div><div>
    RDS プロキシはアプリケーションとRDSデータベースの間の仲介役として機能します。RDS プロキシは、必要となるデータベースへのコネクションプールを確立および管理し、アプリケーションからのデータベース接続を少なく抑える機能です。RDS プロキシは、Lambda関数からデータベースに直接流れるすべてのデータベーストラフィックを処理します。
</div></details>

### Q3. ある企業が、カスタムAMI上のテキストファイルにアクセスキー(アクセスキーIDおよびシークレットアクセスキー)を格納しようとしています。その企業は、アクセスキーを使用して、AMIから作成されたインスタンスからDynamoDBテーブルにアクセスします。セキュリティチームは、よりセキュアなソリューションを要求しています。セキュリティチームの要求に応えるソリューションはどれですか。
1. アクセスキーをAmazonS3バケットに格納し、起動時にインスタンスからアクセスキーを取得する。
2. インスタンスユーザーデータを介してアクセスキーをインスタンスに渡す。
3. プライベートサブネット内で起動されたキーサーバーからアクセスキーを取得する
4. そのテーブルにアクセスする権限を持つIAMロールを作成し、そのロールを使用してすべてのインスタンスを起動する
<details><div>
    答え：4
</div></details> 

### Q4. ある部品製造企業が、製造拠点から部品データファイルをアップロードし、そのファイルから部品の属性情報を抽出してデータベースに登録しようと計画しています。アップロードするファイルのサイズは1GBあり、属性情報の抽出には数秒の処理時間がかかると想定されます。製造拠点からファイルがアップロードされる頻度は予測できません。何時間もアップロードが発生しないこともあれば、複数のファイルが同時にアップロードされることもあります。最も費用効率の良い方法でこのワークロードを処理できるアーキテクチャはどれですか
1. Kinesis Data Streams を使用してファイルを格納し、Lambdaを使用して処理する。
2. EC2インスタンス上にWebアプリケーションを開発し、アップロードされたファイルの属性情報を抽出して、RDSに格納する
3. 製造拠点のサーバーからEFSにNFSマウントしてファイルを格納する。格納されたファイルにEC2インスタンスからアクセスして処理する
4. ファイルをS3に格納し、S3イベント通信を使用してLambda関数を呼び出し、ファイルを処理する
<details><div>
    答え：４
</div><div>ファイルのアップロードのイベントをトリガーとして短い時間で処理を行うには、Lambda関数の利用が適しています。S3にファイルをアップロードすることでアップロードイベントによってLambda関数を起動し、属性情報の抽出及びデータベースの格納処理を行えます。1．のKinesis Data Streamsは、大量のストリーミングデータを収集するサービスですが、容量の大きいファイルのアップロードには向いていません。2．の場合、ファイルのアップロード頻度が予測できないことから、EC2インスタンスを使った実装はコスト効率が悪くなることがあります。Cの場合、ファイルがアップロードされているかをEC2インスタンスが常時EFSにポーリングする仕組みが必要となり、非効率です。
</div></details>

### Q5. ある自治体でWEB投票システムの構築を計画しています。投票は年に数回程度ですが、投票日には大量のリクエストが予想されます。最も費用効率の良いWeb投票システムのアーキテクチャはどれですか
1. CloudFrontを利用してリクエストを受信する。オリジンサーバーをS3の静的ウェブホスティングで構成し、投票情報をS3に格納する。
2. WebサーバーをリザーブインスタンスのEC2インスタンスで構成する。EC2インスタンスで受信したリクエストを背後のDynamoDBに投票情報として格納する
3. API Gateway を構成してリクエストを受信する。API Gateway からLambda関数を起動し、背後のDynamoDBに投票情報を格納する
4. S3の静的ウェブホスティングを構成し、リクエストを受信する。投票情報をS3に格納する
<details><div>
    答え：３
</div><div>この設問は、年に数回しか稼働しないシステムで、かつ稼働するときは大量のトラフィックが予想されるWebシステムという要件です。リクエストが来ないときにできるだけコストがかからず、動的な拡張性を持つシステム構成にします。3．のLambda関数の場合、プログラムの顔づ出の従量課金となるので要件に適しており、投票日の大量のトラフィックにも動的にスケールアウト・スケールインすることで対応できます。2．の場合、システムを利用していない期間もEC2インスタンスやEBSの課金があり、コスト効率が悪くなります。1.4．の場合、データを格納するストレージとしてS3を利用しているため、大量のトラフィックに対応する応答性の要件に適していません。
</div></details>

### Q6. 定期的にLambda関数を実行する場合、利用するAWSサービスはどれですか
1. SNS
2. SQS
3. CloudWatch Events
4. CloudWatch アラーム
<details><div>
    答え：３
</div><div>CloudWatch Events では定期実行するイベントを作成でき、実行するアクションとしてLambda関数を指定できます。
</div></details>

### Q7. Amazon SNSでサポートしている通知エンドポイントやクライアントはどれですか
1. Email
2. CloudFrontディストリビューション
3. FTP
4. Lambda
5. SNMP
<details><div>
    答え：１，４
</div><div>SNSはHTTPS、Email、SMS、モバイルプッシュ、Lambda、SQSに通知を送ることができます。SNSから２３５に対して通知を直接送ることはできません
</div></details>

### Q8. EC2インスタンスで実行しているアプリケーションからDynamoDBへのデータの書き込みを許可する設定について、より安全な方法はどれですか。
1. EC2インスタンスのアクセスキーを使用してDynamoDBにアクセスする
2. IAMユーザーのアクセスキーを使用してDynamoDBにアクセスする
3. DynamoDBへのアクセスを許可したIAMロールをEC2インスタンスに設定し、一時的セキュリティ認証情報を使用してDynamoDBにアクセスする
4. DynamoDBのVPCエンドポイントを使用して暗号化通信を実施する
<details><div>
    答え：３
</div><div>１は不適切な選択肢です。インスタンスのアクセスキーといった場合、EC2インスタンスのプログラムで利用されるアクセスキーとなりますが、EC2インスタンスからアクセスキーが漏洩するリスクもあります。そのため、アクセスキーの厳重な管理やローテーションが必要となります。
  ２は不適切な選択肢です。1と同様、アクセスキーの厳重な管理やローテーションが必要となります。
  3は適切な選択肢です。EC2からDynamoDBへのアクセスでは、IAMユーザーのアクセスキーではなく、EC2に設定したIAMロールによる一時的セキュリティ認証情報を利用することで、アクセスキーの厳重な管理やローテーションが不要となり、より安全なアクセスを実現できます。
  ４は不適切な選択肢です。VPCエンドポイントを使用したDynamoDBへのアクセスにより、アクセス経路を安全にはできますが、DynamoDBのアクセス権を制御することはできません。
</div></details>

### Q9. スマートフォンから写真画像をアップロードし、その画像を縮小するアプリケーションを設計しています。アップロードする画像は数KB～数百KB程度のサイズであり、縮小処理は数秒で完了しますが、頻度は一定でなく集中してアップロードされるときもあれば数日間全くされないときもあります。この場合、最もコスト効率の高いソリューションはどれですか
1. スマートフォンから画像ファイルをS3にアップロードし、S3イベント通信を使用してLambda関数を呼び出し、画像ファイルの縮小処理をする
2. EC2インスタンス上にWebアプリケーションを開発し、アップロードされた画像ファイルを縮小処理して、S3に格納する
3. Kinesis Data Streamsを使用して画像ファイルを格納し、Lambdaを使用して縮小処理する
4. S3静的ウェブホスティングを構成し、アップロードされた画像ファイルを縮小処理して、S3に格納する
<details><div>
    答え：１
</div><div>
  １は適切な選択肢です。S3にファイルをアップロードするイベントをトリガーとして短時間の処理を行うにはLambda関数が適しています。
  ２は不適切な選択肢です。頻度が一定でない動的な処理のためEC2インスタンスによる構成よりもプログラムの稼働量に課金されるLambdaが適しています。
  ３は不適切な選択肢です。ファイルの保存先としては、Kinesis Data Streams よりも低コストで永続的に保存できるS3のほうが優れています。
  ４は最適な選択肢ではありません。静的ウェブホスティングを用いてアップロードサイトを用意するのはよいソリューションですが、縮小処理について具体的な記載がないため、１のほうがより適切といえます。
</div></details>

### Q10. ある企業でAWSを利用して大規模なシステムを運用しています。このシステムを監視し、エラーログが検出された場合に、メッセージを加工してシステム管理者のモバイル端末に通知する仕組みの構築を計画しています。このソリューションを最も効率的に構成できるのはどれですか
1. CloudWatch Alarmでエラー文字列をフィルタし、Lambda関数を実行するように構成する。Lambda関数でログメッセージを加工し、SNSを利用してシステム担当者にプッシュ通知を行うように構成する。
2. CloudWatch Logsでエラー文字列をフィルタし、Lambda関数を実行するように構成する。Lambda関数でログメッセージを加工し、SNSを使用してシステム担当者にプッシュ通知を行うように構成する。
3. CloudWatch Alarm でエラー文字列をフィルタし、メッセージを加工する処理を構成する。CloudWatch Alarmで、SNSを実行するアクションを王精してシステム担当者にプッシュ通知を行うように構成する。
4. CloudWatch Logsでエラー文字列をフィルタし、EC2インスタンスを実行するように構成する。EC2インスタンスでログメッセージを加工し、SNSを利用してシステム担当者にプッシュ通知を行うように構成する。
<details><div>
    答え：２
</div><div>
  １は不適切な選択肢です。CloudWatch AlarmはCloudWatchの通知機能であり、収集されたログをフィルタする機能はありません。
  ２は適切な選択肢です。ログメッセージを検出して加工する場合には、CloudWatchLogsからLambda関数を実行し、Lambda関数からSNSを利用してプッシュ通知します。
  ３は不適切な選択肢です。１と同様の理由です。
  ４は不適切な選択肢です。メッセージを加工する処理は、EC2よりものほうがコスト面と開発面で効率的に構成できます。
</div></details>

### Q11. あるチケット販売サイトでオンラインチケット販売システムの構築を計画しています。チケット販売は月に数回程度しか起こりませんが、販売当日には大量のリクエストが予想されます。最も費用対効果の高いオンラインチケット販売システムのアーキテクチャはどれですか
1. S3の静的ウェブホスティングを構成し、リクエストを受信する。チケット販売情報をS3に格納する。
2. API Gatewayを構成し、リクエストを受信する。API GatewayからLambda関数を起動し、背後のDynamoDBにチケット販売情報を格納する。
3. WebサーバーをリザーブドインスタンスのEC2インスタンスで構成する。EC2インスタンスでリクエストを受信して背後のRDSにチケット販売情報を格納する。
4. ELBロードバランサーを構築し、AutoScalingでEC2インスタンスをクラスター構成し、Webサービスをインストールする。チケット販売情報を背後のDynamoDBに格納する
<details><div>
    答え：２
</div><div>
  １は不適切な選択肢です。S3にデータを格納するのは、大量のリクエストに対応できる応答性の要件に適していません。大量のリクエストが見込まれるサービスのデータベースは、S3以外のデータベースを選択します。
  ２は適切な選択肢です。月に数回しか稼働せず、稼働するときは大量のトラフィックが予想される動的なシステム構成が要件です。Lambda関数は、プログラムの稼働量での従量課金のため、この場合の要件に適しています。
  ３は不適切な選択肢です。EC2インスタンスによる構成は、継続的に課金されるためコスト効率が悪く、要件に適していません。リザーブドインスタンスを利用したとしても、Lambdaのほうが費用対効果が高いといえます。RDSの利用可否についてはアクセス数に依存するため、明確に判断できませんが、EC2を選択している時点でこの選択肢は除外します。
  ４は不適切な選択肢です。EC2インスタンスにクラスタ構成は、継続的に課金されるためコスト効率が悪く、要件に適していません。また、S3にデータを格納するのは、大量のリクエストに対応できる応答性の要件に適していません。大量のリクエストが見込まれるサービスのデータベースについては、S3以外のデータベースを選択します。
</div></details>

### Q12. あなたの会社はWebアプリケーションを運営しています。そのWebアプリケーションにはAutoScalingを設定しており、スケーリングによってインスタンスが削除される際にはユーザー情報を移動することが必要です。ユーザー情報を保存するのに適しているのはどれですか
1. ElasticCache
2. EBS
3. DynamoDB
4. S3
<details><div>
    答え：３
</div><div>
  １は不適切な選択肢です。ElasticCacheはアプリケーションが高速なI/Oを必要とする場合に利用するキャッシュサービスです
  ２は最適な選択肢ではありません。ユーザー情報は構造化もしくは半構造化召されているケースが多いため、EBSよりはデータベースのほうが後程活用しやすいといえます
  ３は適切な選択肢です。データによって属性数が異なっていても保存しやすい、NoSQLのキーバリュー型データベースであるDynamoDBが適しています。また、DynamoDBは書き込みと同時に複数のAZに複製されるため、耐障害性にも優れています。一般的にDynamoDBはWebのセッション情報、ストレージのインデックスなどのメタデータ、ユーザーIDをはじめとするユーザーデータの保存に適しています。
  ４は最適な選択肢ではありません。２と同じ理由に加え、I/Oが高くなる可能性を考えるとS3よりもDynamoDBのほうが適しています。
</div></details>

### Q13. ある組織が、AWSクラウドにデータを移行しています。オンプレミスアプリケーションは、ネットワークファイルシステムを共有しており、コードを変更せずにデータにアクセスする必要があります。データは重要情報であり、かつ頻繁にアクセスされます。ソリューションアーキテクトは、可用性と耐久性を最大化するために、どのストレージソリューションを推奨すべきですか？
1. Amazon S3
2. Amazon EFS
3. AWS Storage Gateway – ファイルゲートウェイ
4. Amazon EBS
<details><div>
    答え：3
</div></details>

### Q14. あるソリューションアーキテクトが、Amazon API Gatewayを使用してAPIをデプロイし、複数の利用者向けにAPIキーを作成しました。ある特定の利用者からのリクエストが多く、ソリューションアーキテクトはリクエストの割合を制限する必要があります。他の利用者が影響を受けないようにするためには、ソリューションアーキテクトはどのように対処すればよいでしょうか？
1. クライアントごとのスロットル制限を設定する
2. メソッドごとのスロットル制限を構成する
3. アカウントレベルのスロットル制限を設定する
4. サーバー側のスロットル制限を設定する
<details><div>
    答え：１
</div><div>
</div></details>

### Q15. ある企業が、Amazon API Gatewayを使用してAPIを導入しました。特定のエンドポイントに多くのリクエストが集中しているため、ソリューションアーキテクトはリクエストレイテンシーとAmazon EC2エンドポイントへの呼び出し回数を減らすための対策を実施するよう依頼されました。どのようにすれば最も簡単に実現できるでしょうか？
1. CloudFrontでエッジに最適化されたエンドポイントを構成する。
2. メソッドにキャッシュを作成し、TTLを設定する。
3. プライベートエンドポイントを構成し、ElastiCacheを前面に配置する。
4. ステージのキャッシュを作成し、TTLを設定する。
<details><div>
    答え：４
</div></details>

### Q16. あるEコマース会社では、非常に人気のあるWebアプリケーションがあり、大量のトラフィックを受けています。このアプリケーションは、利用者のプロファイルデータとショッピングカート情報をデータベースに格納する必要があります。ソリューションアーキテクトは、1秒間に数百万リクエストのピーク負荷とミリ秒の応答時間をサポートするデータベースソリューションを設計する必要があります。運用上のオーバーヘッドを最小限に抑え、スケーリングによるダウンタイムを発生させないようにしなければなりません。ソリューションアーキテクトはどのデータベースソリューションを推奨すべきですか？
1. Amazon RDS
2. Amazon DynamoDB
3. Amazon Athena
4. Amazon Aurora
<details><div>
    答え：２
</div></details>

### Q17. あなたは、DynamoDBの使用するか検討しています。次のうち、DynamoDBに関するAWSのベストプラクティスはどれですか。(2つ選択してください)
1. 各アイテムに個別のローカルセカンダリインデックスを使用する
2. 400KB以上のオブジェクトはS3に格納し、DynamoDBではポインタを使用する
3. アクセス頻度の高いデータとそうでないデータを別々のテーブルに格納する
4. BLOBデータのユースケースに使用する
5. 大きなファイルを使用する
<details><div>
    答え：２，３
</div></details>

### Q18. WebサーバをEC2、DBサーバをAmazon RDSを利用したWebサービスを構築しようとしており、データベース全体の負荷を軽減したい。この場合に有効な施策は次のうちどれですか？
1. リードレプリカを利用し、ELBを利用する
2. データベースの前にElastiCacheを設置し、リードレプリカを利用する
3. データベースの前にElastiCacheを設置し、マルチAZ構成にする
4. リードレプリカを利用する
<details><div>
    答え：２
</div></details>

### Q19. オンプレミスのWebアプリケーションのデータベースをAWSに移行しています。データベースに対するクエリは複数のCPUやスレッドを必要とするもので、このデータベースのパフォーマンスを向上させるためにマルチスレッドのインメモリキャッシングを使用しています。データベースキャッシュの代替として最も適切なサービスはどれですか？
1. Amazon ElastiCache Memcached
2. Amazon ElastiCache Redis
3. Amazon DynamoDB DAX
4. Amazon RDS MySQL
<details><div>
    答え：１
</div></details>

### Q20. Amazon ElastiCache for Redisクラスタは、複数のアベイラビリティーゾーンにまたがって動作しています。ソリューションアーキテクトは、ノード間で複製される機密データのセキュリティについて懸念しています。どのようにソリューションアーキテクトは機密データを保護することができますか？
1. 転送中の暗号化を有効にする
2. at-rest encryptionを有効にする
3. Redis AUTHコマンドを発行する
4. MFAとAPIログの設定
<details><div>
    答え：１
</div><div>
    Amazon ElastiCacheの転送中の暗号化は、データをある場所から別の場所に転送する際のセキュリティを向上させることができるオプションの機能です。
</div></details>

### Q21. ベンチャー企業がAWS上で新規アプリの開発を行っています。高パフォーマンスとマルチスレッド対応が可能なことがシステムの要件になっています。データベース層のセッション処理に利用するアーキテクチャを選択してください。
1. S3
2. DynamoDB
3. ElastiCache Redis
4. ElastiCache Memcached
<details><div>
    答え：４
</div></details>

### Q22. あなたはエンジニアとして、API Gatewayによって起動されるAWS Lambda関数の開発に取り組んでおり、API Gatewayプロキシ統合を構成しました。しかしながら、開発したLambda関数はAPIから呼び出されると、エラー（502 Bad Gateway）が発生しました。この問題の最も可能性の高い根本原因はどれでしょうか？
1. Lambdaプロキシ統合バックエンドから互換性のない出力が返答されているため。
2. API GatewayのプロキシのAPI名が無効となっているため。
3. IAMロールの設定でLambda関数へアクセス権限が適切で無いため
4. エンドポイントのリクエストのタイムアウト
<details><div>
    答え：1
</div></details>

### Q23. あなたはAmazon DynamoDBを使用してシステムの予約受付を管理しており、テーブルは予約受付日に基づいてパーティションを分割しています。広告プロモーションの効果により特定の受け付け日に予約が大量に入ったことで、プロビジョニングされたスループットが大幅に不足し、DynamoDBへの書き込みが抑制されました。この問題をAWSのベストプラクティスに従って最小のコストで解決できるものを選択してください。
1. 予約受付日ごとの新しいDynamoDBテーブルを作成
2. パーティションキーの値に乱数を追加します。
3. 読み取りテーブルおよび書き込みキャパシティーユニットの追加
4. DynamoDBテーブルへのグローバルセカンダリインデックス追加
<details><div>
    答え：2
</div></details>

### Q24. Elastic Beanstalkを使用してアプリケーションをデプロイしました。クライアントからのリクエストを処理するためには複数のインスタンスが必要です。デプロイ所要時間は考慮せず、アプリケーションのログを保持するために既存のインスタンスを使用する必要があります。これらの要件を満たすデプロイ方法を選択してください。
1. rolling deployment with an additional batch (追加バッチによるローリングデプロイ)
2. ローリング
3. 変更不可
4. All at once
<details><div>
    答え：2
</div></details>

### Q25. ある会社では、開発環境を全てDocker形式で展開できるようにAmazon ECSを使用してDockerアプリケーションを構築しています。CloudFormationを使用して、AutoScalingグループを設定したECSクラスターを展開しています。ECSクラスターはクラスターAとクラスターBの2つのクラスターで構成されています。まずはクラスターAのパラメーター入力を使用してCloudFormaitonテンプレートによってEC2インスタンスを起動しました。次にクラスターBのパラメーター入力を使用してCloudFormationテンプレートを起動したところ、全インスタンスがクラスターBではなくクラスターAとして起動されてしまいました。この問題の可能性が高い根本的な原因を説明してください。
1. セカンドクラスターに接続するには、Dockerイメージを再設定する必要があった、ということを見落としたのが原因。
2. EC2インスタンスにセカンドクラスターに配置するためのIAMアクセス許可が設定されていないことが原因。
3. ブートストラップ中にクラスター名パラメーターがファイル/etc/ecs/ecs.configに反映されていないことが原因。
4. EC2インスタンスのセキュリティグループが間違ったECSクラスターを指していることが原因。
<details><div>
    答え：3
</div></details>

### Q26. ある会社はDynamoDBを利用したシステム開発を行っています。今回1日のうち特定の時間に15秒間だけアプリケーションのエラーが発生しています。エラーを調査したところ、ProvisionedThroughputExceededExceptionというエラーレスポンスが返ってきていることが分かりました。このエラーの対応方法として、適切な方法を選択肢から選んでください
1. 即時再試行をプログラムする方法
2. 再試行する前に待機時間をプログラムする方法
3. ProvisionedThroughputを増加させる方法
4. エクスポネンシャルバックオフで再試行するようにプログラムする方法
<details><div>
    答え：4
</div><div>
    今回のポイントはエクスポネンシャルバックオフです。これは指数関数的後退つまり指数関数的に処理のリトライ間隔を後退させるアルゴリズムのことです。
これは高可用性を実現するために、システムが停止した際に指数関数的にリトライを実行するという意味です。
</div></details>

### Q27. あなたエンジニアとしてAWS上でCodeDeployを利用してCI/CD開発環境でアプリケーションを開発しています。ハイブリット環境を利用しており、WebアプリケーションをオンプレミスとAWSの両方の環境に展開する必要があります。CodeDeployを使用する際のポイントとして適切な内容を次の中から選択してください。
1. Amazon ECSと併用して利用できない。
2. AWS Lambdaをデプロイできない。
3. EC2インスタンスとオンプレミスサーバーの両方にアプリケーションをデプロイできる。
4. AWSリソースにのみアプリケーションをデプロイできる。
<details><div>
    答え：3
</div></details>

### Q28. ある会社では、AWSの移行プロジェクトを行っています。あなたは今回DB検討をする担当になりました。システム要件からDynamoDBが有力候補として挙がっていますが、仕様について一度整理したいと考えています。今回特に条件付き書き込み機能を調査する必要があります。DynamoDBの条件付き書き込み機能の説明として正しいものを選択してください
1. DynamoDB条件付き書き込み機能とは、DynamoDB属性への変更をその属性の値が読み取られてから変更されていない場合にのみ書き込まれるようにする機能である
2. DynamoDB条件付き書き込み機能とは、S3オブジェクトがバケットに書き込む際に、オブジェクトが5GB未満の場合のみ書き込まれる機能である
3. DynamoDB条件付き書き込み機能とは、DynamoDB属性への変更を他のユーザーがテーブルにアクセスしていない場合にのみ書き込まれるようにする機能である
4. DynamoDB条件付き書き込み機能とは、S3オブジェクトが暗号化されている場合にのみバケットに書き込まれるようにする機能である
<details><div>
    答え：1
</div></details>

### Q29. AWS環境でAWS CodeDeployの使用を検討しています。AWS CodeDeployの機能のうち、デプロイプロセスの様々な段階で各インスタンスで実行されるスクリプトを指定するためのものを選択してください。
1. BuildSpec file
2. Build file
3. AppSpec file
4. Deployment file
<details><div>
    答え：3
</div></details>

### Q30. あなたはエンジニアとしてLambda 関数によるサーバレスアプリケーションを構築しています。Lambda関数はJAVAで記述されており、jdbcドライバー（JAVAのDB接続用ライブラリ）を使用してRDSに接続する必要があります。 そのため、Lambda関数側でコードの依存関係を含んだライブラリも、アップロードすることが必要です。この要件を達成するためのセットアップ方法を選択してください。
1. Lambdaコンソール画面でLambda 関数に対して依存関係を設定する方法。
2. AWS CLIでLambda 関数に対して依存関係を設定する方法。
3. Lambda関数と依存関係のライブラリを1つのフォルダーでZIP化する方法。
4. Lambda関数と依存関係ファイルを一緒にLambdaコンソールにアップロードする方法。
<details><div>
    答え：
</div></details>

### Q31. 会社のデバイスデータをリアルタイムに取得してAmazon Kinesis Data Streamsに送信するアプリを開発しています。Kinesisの使用上、PutRecordAPIの呼び出しに失敗した際に自動でリトライされてしまい同じデータを送ってしまうケースがあります。今回このケースをのトラブルによりアプリに不具合が起こりました。原因を調査したところ、データエントリが重複していることが原因と判断されました。この問題を解決する方法はどれでしょうか？
1. メッセージ重複排除IDを利用する方法
2. レコード内に主キーを埋め込む方法
3. シャードの数を分割する方法
4. 可視性タイムアウトによる重複削除を実施する方法
<details><div>
    答え：2
</div><div>
    重複させないためには主キーをレコード内に埋め込み、それぞれのレコードをユニークにする(同じものの存在を1つしか許さない状態)必要があります。重複排除に使用するトークンのことですが、メッセージが正常に送信された場合、同じメッセージ重複IDを持つ送信メッセージは正常に受信し、その後5分間の間配信されなくなるという考えなので不正解になります。
</div></details>

### Q32. 現在アプリケーションサーバで稼働しているWeb アプリケーションの AWS Lambda への移行を検討しています。まずは、AWS Lambda のベストプラクティスに準拠した設計を考えています。AWS Lambda の関数コードについて、正しいベストプラクティスを 2 つ選択してください。
1. 再帰的な処理を実装しない
2. ステージ変数を使用して、動作に必要なパラメータを関数に渡す
3. レイヤーの .zip ファイルの解凍にかかる所要時間を制限する
4. レイヤーを使い依存関係をコントロールする
5. Lambda ハンドラーメソッドをコアロジックから分離してコーディングする
<details><div>
    答え：1,5
<div><div>
    Lambda ハンドラーメソッドをコアロジックから分離することにより、関数の単体テストが実行しやすくなります。
    ステージ変数ではなく、”環境変数” であれば正しい文でベストプラクティスとなります。
</div></details>

### Q33. AWS CodeBuildビルドで展開されたWebアプリケーションがあります。ビルドが失敗した場合にはその原因を確認するために、BuildSpecファイルにおける設定上の問題を迅速に確認する必要があります。設定上の問題を確認するために、最適な展開設定を選択してください。
1. AWS CodeBuildの詳細モニタリングを有効にする
2. AWS CodeBuildをローカルで実行する
3. 実行中にCodeBuildを停止して、トラブル個所を特定する
4. AWS CodeBuildにおけるX-Rayデーモンを有効化する
<details><div>
    答え：2
</div></details>

### Q34. あなたはAPI Gatewayを利用して、VPC内にあるWebサーバーにREST APIでデータを連携することを可能にしたいと考えています。そのために必要なAPI Gatawayの設定として、受信リクエストデータの統合リクエストへのマッピング方法と、統合レスポンスデータ結果のメソッド応答へのマッピング方法をそれぞれ指定する必要があります。この用件を満たすためのAPI Gatewayの設定はどれでしょうか。
1. 統合タイプにAWSを設定する。
2. 統合タイプにMOCKを設定する。
3. 統合タイプにAWS_PROXYを設定する。
4. 統合タイプにHTTPを設定する。
<details><div>
    答え：4
</div></details>

### Q35. バックエンドを API Gateway と Lambda 関数と DynamoDB のサーバーレスアーキテクチャで構成しているモバイルアプリケーションを開発しています。モバイルアプリケーションから、API Gateway に対するリクエストを統合リクエストにマッピングし、かつ Lambda 関数からのレスポンスを API Gateway 上で統合レスポンスとして返す構成を検討してます。API Gateway と Lambda 関数の最適な統合方式を選択してください。
1. Lambda API 統合 を利用する
2. IAM 認証を利用したAPI統合 を利用する
3. Lambda カスタム統合 を利用する
4. Lambda プロキシ統合 を利用する
<details><div>
    答え：2
</div><div>
    API Gateway では Lambda プロキシ統合または Lambda 非プロキシ (カスタム) 統合を使用して、API メソッドを Lambda 関数に連携できますが、統合レスポンスとして Lambda 関数からのレスポンスとマッピングできるのは Lambda 非プロキシ(カスタム)統合となります。
</div></details>

### Q36. モバイルアプリの認証機能にGoogleアカウントやTwitterの Open ID を用いる実装方法を選択してください。
1. ウェブIDフェデレーション
2. AWS Glue
3. AWS IAM
4. Amazon Cognito
<details><div>
    答え：4
</div></details>

### Q37. API Gateway を利用するアプリケーションで、他社アプリケーションとのデータ連携が必要となりました。このように外部と連携するため、API Gateway にてパブリック API を公開する必要があります。この要件を満たすための最適なアクションを選択してください。
1. API Gateway コンソールを使い、公開設定を有効にする
2. Open ID を利用する
3. パブリックアクセス設定プランを利用する
4. API キーを使用した使用量プランを利用する
<details><div>
    答え：4
</div><div>
    使用量プランは、API キーと顧客を結びつけ、さらに1秒あたりのリクエスト制限を設定可能です。
</div></details>

### Q38. オンプレミスで Microsoft SQL Server をデータベースとして利用している Web アプリケーションを AWS へ移行する計画が決まりました。Web アプリケーションは Elastic Beanstalk で効率的にデプロイメントされる設計としています。一方で、データベースは Amazon RDS を移行先として計画していますが、セキュリティ強化のため、ストレージへの書き込み前にデータを暗号化させ、読み取り時に復号化するように設定したいと考えています。この移行要件を達成するための最適なRDSの設定方法を 2 つ選択してください。
1. 透過的データ暗号化（TDE）を有効化する
2. Amazon RDS 暗号化を DB インスタンス作成時に有効化する
3. DB認証に AWS IAM を利用する
4. AWS Directory Service for Microsoft Active Directory と RDS を統合する
5. CloudHSM と連携することで、即時暗号化を行えるようにする
<details><div>
    答え：1,2
</div><div>
    透過的なデータ暗号化 (TDE) は Oracle または SQL Server の DB インスタンスで利用でき、上述の Amazon RDS 暗号化と併せて有効化可能です。
    IAM データベース認証は、MySQL および PostgreSQL で動作するものとなり、Microsoft SQL Server では利用できません。
</div></details>

### Q39. ある会社ではAmazon Kinesis Data Streamsというサービスを使用して、EC2からのログをS3に保存しています。企業のセキリュティ要件として、このログを12時間ごとに保存し、企業独自のアプリケーションでログ分析を行う必要があります。今回セキリュティチームはログをS3に運ぶ際暗号化がされないことに気づき、対応をする必要があります。次の選択肢の中で最も効率的に暗号化できるものはどれでしょうか？
1. SSL/TLSを使用して暗号化する
2. Amazon Kinesis Data Streamsは暗号化をサポートしていない
3. S3サーバー側の暗号化を使用して暗号化する
4. Amazon Kinesis Data Streams(KDS)サーバー側の暗号化を使用して暗号化する
<details><div>
    答え：4
</div></details>

### Q40. あなたはS3を利用して、コンテンツのアップロード/ダウンロードしたりできるアプリケーションを展開しています。開発者は、ルートユーザー認証情報を用いてアプリケーションの動作確認をテストする必要がありますが、ルートユーザーを使用するためセキリュティ対策を十分に検討する必要があります。今回、環境変数にルートユーザーの認証情報を追加し、特定バケットのIAMロールを作成してインスタンスにアタッチしました。この状態でテストしたところ、インスタンスはS3のすべてのバケットに対してアクセスする権限がある状態になっています。この原因として考えられることはどれでしょうか？
1. AWSデフォルトの認証情報プロバイダは、環境変数に対してより高い優先度を持つから
2. EC2インスタンスのIAMロール認証情報がキャッシュされている
3. EC2インスタンスの再起動をしておらず権限認証（IAMロール）の際認証が有効になっていないため
4. EC2インスタンスにIAMロールアタッチすることはできない
<details><div>
    答え：1
</div></details>

### Q41. あなたはLambda関数を作成中です。標準のLambdaライブラリに含まれていない外部ライブラリを使用する際に、デプロイ時間を短縮させる方法を選択してください。
1. 依存関係と外部ライブラリをLambda関数にインストールします。
2. Lambda関数のデプロイパッケージを外部ライブラリを含んだ状態で作成します。
3. 外部ライブラリを配置したAmazon S3を参照するよう設定します。
4. すべてのLambda関数で使用できるようにするため、外部ライブラリをLambda関数にインストールします
<details><div>
    答え：2
</div></details>

### Q42. セキュリティ要件の高いアプケーションを開発しており、セキュリティを向上させるために、多要素認証（MFA）を使用してログインする必要があります。これらを実現するために最適なサービスを選択してください。
1. AWS Directory Serviceを使用します。
2. Amazon SNSでMFAコードを送信し、AmazonDynamoDBにMFAセッションデータを保存します。
3. MFAを用いたAmazon Cognitoを使用します。
4. IAMユーザのAWSコンソールログインにMFA認証を追加します。
<details><div>
    答え：3
</div></details>

### Q43. あなたは、CI/CDプロセスにAWS CodePipelineを使用することを検討しています。コードはS3バケットから取得されます。すべてのデータを保管時に暗号化する為に必要な対策を次の中から2つ選択してください。
1. AWS CloudHSMを使用するようにCodePipelineでコードピックアップステージを構成します。
2. CodePipelineステージでサーバー側の暗号化を有効にします。
3. AWS KMSにてカスタマー管理SSE-KMSキーを設定し、S3バケット暗号化を使用します。
4. S3バケットでサーバー側の暗号化を有効にします。
<details><div>
    答え：3,4
</div><div>
    CodePipelineでは、KMSまたはカスタマ管理SSE-KMSキーを使用してサーバー側の暗号化を有効にしたS3バケットで使用することができます。
    AWSCloudHSMはクラウドベースのマネージド型ハードウェアセキュリティモジュール（HSM）をサービスとして提供します。これにより、AWSクラウドで暗号化キーを簡単に生成して使用できるようになります。
</div></details>

### Q44. あなたはElastic Beanstalkを利用して、WEBアプリケーションを展開しています。先日、このWEBアプリケーションの処理が遅延しているというクレームがよせられ原因分析をしてみると、CPUの利用率が100％の水準まで上昇していることがわかりました。この問題を解決する方法を選択してください。
1. CloudWatchイベントによるスケーリングを実施する方法
2. Elastic Beanstalkのスケーリングヘルスレポートを利用する方法。
3. CPUをモニタリングしたElastic Beanstalkのオートスケーリングを設定する方法。
4. SNSによるアラーム通知と自動スケーリングを設定する方法。
<details><div>
    答え：3
</div></details>

### Q45. EC2インスタンスのアプリケーションからDynamoDBテーブルにデータを書き込めるようにする為に、セキュリティキーをEC2インスタンスに保存せずに行う方法を2つ選択してください。
1. EC2インスタンスにIAMロールをアタッチします。
2. DynamoDBテーブルへの書き込みアクセスを許可するIAMユーザーを作成します。
3. DynamoDBテーブルへの書き込みアクセスを許可するIAMロールを作成し、EC2インスタンスにアタッチします。
4. EC2インスタンスにIAMユーザーを追加します。
<details><div>
    答え：1,3
</div></details>

### Q46. ある会社では現在システム開発をAWSで行っています。今回のシステム要件では1時間に1回S3バケット内の中で新規に保存されたオブジェクトをチェックする機能を作成しています。この機能では新しいアイテムが存在する場合、SQSキューにメッセージを追加し、複数インスタンスがSQSキューからメッセージを取得し、ファイルを解析し、情報をメール配信するのが一連の流れになっています。今回この機能を作成した担当者が単体テストを行ったところ、メール配信が数百通届いている状況となりました。このメール量の原因として考えられる原因を選択肢から選択してください。
1. 一度にSQSキューをポーリングできるEC2インスタンスは1つだけであるから
2. アプリケーションがメッセージを処理した後、SQSキューに削除コマンドを発行していないから
3. SQSは、処理されるメッセージが重複しないことを保証しないため、今回使用しているロングポーリングを使用する場合はメール配信が大量に実施されてしまうから
4. SQSは、処理されるメッセージが重複しないことを保証しないため、今回使用しているショートボーリングを使用する場合はメールが大量送信されてしまうから
<details><div>
    答え：2
</div></details>

### Q47. オンプレミスの Web アプリケーションを、AWS 上にサーバーレスアーキテクチャで移行することを検討しています。また、開発やデプロイメントの効率化のため、AWS Serverless Application Model (AWS SAM) を利用する予定です。AWS SAM テンプレート仕様として、適切ではない AWS SAM リソース名を選択してください。
1. AWS::Serverless::Function リソース
2. AWS::Serverless::UserPool リソース
3. AWS::Serverless::Api リソース
4. AWS::Serverless::SimpleTable リソース
<details><div>
    答え：2
</div></details>

### Q48. ある会社ではAmazon ECSを利用したDockerコンテナによるアプリケーション開発を実施しています。 あなたはエンジニアとして、AWS CLIコマンドを使用してプロセスを自動化設定を行っています。この設定では7個のタスク定義されたコンテナが実行され続けるように、設定することが必要です。この要件を満たす最適なコマンド操作を選択してください。
1. $ aws ecs create-service –service-name ecs-simple-service –task-definition ecs-demo –desired-count 7
2. $ docker-compose create ecs-simple-service –desired-count 7
3. $ aws ecs run-task –cluster default –task-definition ecs-demo –desired-count 7
4. $ aws ecr create-service –service-name ecs-simple-service –task-definition ecs-demo –desired-count 7
<details><div>
    答え：1
</div></details>

### Q49. あなたはエンジニアとして、毎日1000〜2000程度の他コンポーネントからのコールバックを処理するアプリケーションを管理しています。受信するコールバックの数を把握するため、この過去のコールバックデータを1カ月間利用できるように改修したいと考えています。また、コールバックの数が定義されたしきい値を超えた場合にアラートを自動的に発行する機能も必要だと考えています。これらの要件を満たす最もコスト効率の高い方法はどれでしょうか。
1. コールバックのデータをAmazon RDSデータベースにプッシュします。データベースでクエリを実行して履歴データを表示し、しきい値を超えたときにアラートを送信する。
2. コールバックのデータをカスタムメトリクスとしてAmazon CloudWatchにプッシュし、CloudWatchアラートのメカニズムを使用してシステム管理者にアラートを送信する。
3. コールバックのデータをAWS X-Rayにプッシュし、AWS Lambdaを使用して、しきい値を超えた場合にクエリを実行してアラートを送信する。
4. コールバックのデータをAmazon Kinesis Data Streamsにプッシュし、データをAmazon DynamoDBに保存して必要なアラートを送信するAWS Lambda関数を呼び出す。
<details><div>
    答え：2
</div></details>

### Q50. 以下のうち、サーバーレスアプリケーションを管理する際の推奨事項はどれですか?当てはまるものをすべて選択してください。
1. サーバーレスアプリケーションフレームワークを使用する
2. 開発ツールチェーンを切り替えて、サーバーレスアプリケーション専用に開発されたソース管理ツールとIDEツールを使用する
3. AWS CloudFormationでテンプレートを作成するのではなく、SAMテンプレートを使用してサーバーレスアプリケーションをデプロイする
<details><div>
    答え：1,3
</div></details>

### Q51. 以下のうち、Lambda 関数を構築する際の推奨事項はどれですか? 当てはまるものをすべて選択してください。
1. ビジネスロジックをハンドラーメソッドから切り離す
2. 依存家計を最小限に抑える
3. 既存のコードや使いなれたフレームワークを使用し続けない
<details><div>
    答え：１，２
</div></details>

### Q52. 以下のうち、サーバーレスアプリケーション用のコードリポジトリを構成する際の推奨事項はどれですか? 当てはまるものをすべて選択してください。
1. 各関数を独自のリポジトリに配置する
2. すべてのLambda関数をLambda関数専用のリポジトリに保存する
3. 関数をサービスごとにまとめ、各サービスに１つのデプロイテンプレートと１つのコードリポジトリを用意する
<details><div>
    答え：３
</div></details>

### Q53. 以下のうち、サーバーレス向けの開発環境を構築する際の推奨事項はどれですか?
1. アカウントを処理するための管理プロセスがある場合は、開発者ごとに個別のAWSアカウントを作成する
2. 本番環境と本番以外の環境を別のアカウントに分ける
3. テスト環境に作成するスタックの数を最小限に抑えることでコストを抑える
<details><div>
    答え：１，２
</div></details>

### Q54. プライマリ行を削除するときに、関連する行も削除する必要があります。 そのシナリオでは、リレーションシップの動作タイプの値を何に設定しますか?
1. 親
2. None
3. 参照
4. リンクの削除
<details><div>
    答え：１
</div></details>

### Q55. ある会社ではAWSLambdaを使って3つの関数を開発しています。このLambda関数は実行目的は違ってもDynamoDBの参照先が同一という特徴を持っています。この時Lambdaの開発をより効率的に行うために実施すべき設定を選択してください。
1. マッピングテンプレート
2. エイリアス​
3. インデックスデータ
4. 環境変数
<details><div>
    答え：4
</div></details>

### Q56. ある会社ではDynamoDBをデプロイしています。今回DynamoDBの要件として、テーブル項目のサイズが3KBで1秒間に90回の強力な整合性のある読み込みが必要になりました。この要件を満たすためにテーブルにプロビジョニングする必要のある読み取りキャパシティーユニットの数はどれでしょうか？
1. 90
2. 120
3. 150
4. 70
<details><div>
    答え：1
</div></details>

### Q57. AWS の IAM アカウントを管理しています。開発部門に新たに配属された38 名分の IAM ユーザーを作成する必要があります。AWS のベストプラクティスに則った方法を選択してください。
1. 適切なポリシーを割り当てたユーザーグループを作成し、各ユーザーをユーザーグループに割り当てる
2. 適切な権限を付与したIAMユーザーを作成し、各対象者に割り当てる
3. AWS Organizations の管理ポリシーの一つである SCP により、制御を実施する
4. 開発部門の担当者に管理者権限を付与したユーザーを渡し、管理を任せる
<details><div>
    答え：1
</div></details>

### Q58. ある会社ではAWS Lambda、API Gateway、およびDynamoDBで構成した新しいサーバーレスアーキテクチャを構築しています。アプリケーションの実装においては、LambdaをAPI Gatewayと統合して、GetCustomerリソースによるHTTP GETメソッドにてLambda関数を呼び出すことで、利用者がJSONファイル形式でDynamoDBからデータリストを取得します。その際のAPIリクエストにはクエリ文字列パラメーターを含める必要があります。この要件を達成するための最適な設定方法を選択してください。
1. リソースのメソッドリクエストをセットアップする方法
2. メソッドリクエストオーサライザーをセットアップする方法
3. メソッドリクエストモデルをセットアップする方法
4. メソッドリクエストパラメーターをセットアップする方法
<details><div>
    答え：1
</div></details>

### Q59. AWS 上に8テラバイト相当のスキャンファイルの保存し、このスキャンファイルを検索するサービスを AWS上で展開することを検討しています。スキャンファイルの保存先と、検索方式について最適な組み合わせを選択してください。
1. 保存先に RDS を選択し、検索には RDSクエリ処理 を用いたクエリ処理アプリケーションを利用。さらに Elastic Beanstalk を使ってマルチAZにホストする。
2. 保存先に DynamoDB を選択し、検索には ElasticSearch を用いたクエリ処理アプリケーションを利用。さらに Elastic Beanstalk を使ってマルチAZにホストする。
3. 保存先に S3標準ストレージ を選択し、検索には ElasticSearch を用いたクエリ処理アプリケーションを利用。さらに OpsWorks を使ってマルチAZにホストする。
4. 保存先に S3標準ストレージ を選択し、検索には S3 Select を用いたクエリ処理アプリケーションを利用。さらに OpsWorks を使ってマルチAZにホストする。
5. 保存先に S3標準ストレージ を選択し、検索には Amazon CloudSearch を用いたクエリ処理アプリケーションを利用。さらに Elastic Beanstalk を使ってマルチAZにホストする。
<details><div>
    答え：5
</div></details>

### Q60. DynamoDB をデータベースとする Web アプリケーションを Auto Scaling グループを設定した EC2 インスタンス上に構築しています。現在、あるユーザによる変更操作が、別ユーザの変更操作により上書きされる問題が顕在化しています。問題解決のための最適な DynamoDB の設計を選択してください。
1. テーブルのマッピングクラスで、バージョン番号を格納する 1つのプロパティを指定することで、オプティミスティックロックをサポートする
2. テーブルのマッピングクラスで、バージョン番号を格納する 1つのプロパティを指定することで、パサミスティックロックをサポートする
3. テーブルのマッピングクラスで、DynamoDBテーブルIDを格納する 1つのプロパティを指定することで、パサミスティックロックをサポートする
4. テーブルのマッピングクラスで、DynamoDBテーブルIDを格納する 1つのプロパティを指定することで、オプティミスティックロックをサポートする
<details><div>
    答え：1
</div><div>
    オプティミスティックロックとは、更新 (または削除) しているクライアント側のアイテム情報が、Amazon DynamoDB のアイテム情報と確実に同じ内容になることを保証するロック方法です。このロック方法を使用すると、データベースの書き込みは、他のユーザーの書き込みによって上書きされないように保護されます。
</div></details>

### Q61. あなたは金融システムのエンジニアであり、Amazon DynamoDBテーブルのアイテムを検索においてグローバルセカンダリインデックスを使用したいと考えています。読み込みキャパシティーユニットの消費について検討する要件に対応する必要があり、読み込みキャパシティーユニット消費を最小にするために使用するべきDynamoDB APIのオペレーションはどれでしょうか。
1. クエリオペレーション(強力な整合性のある読み込みを使用)
2. スキャンオペレーション(結果整合性のある読み込みを使用)
3. スキャンオペレーション(強力な整合性のある読み込みを使用)
4. クエリオペレーション(結果整合性のある読み込みを使用)
<details><div>
    答え：4
</div></details>

### Q62. ある会社はAWS Elastic beasntalkを利用し、EC2でホストされたアプリのバージョン管理を行っています。今回新しいバージョンが更新されたことをトリガーにデプロイまで行いたいという要望がアプリチームから上がってきました。デプロイが実施されると、古いインスタンスが新しいインスタンスのデプロイが完了するまで処理を担う必要があり、デプロイが完了次第順に新しいインスタンスへリクエストを流すような方式が理想です。この要件を満たす方式は次のうちどれでしょうか？
1. All at Once[一括]​
2. rolling deployment with an additional batch (追加バッチによるローリングデプロイ)
3. rolling deployments (ローリングデプロイ)
4. [Traffic-splitting deployments (トラフィック分割デプロイ)]
<details><div>
    答え：3
</div></details>

### Q63. Amazon Kinesis Data Streams に固有のデータを送信するモバイルアプリを構築しています。また コンシューマーとして AWS Lambda 関数を使用しており、50個のアクティブなシャードを持つ Amazon Kinesis Data Streams のストリームのレコードを処理しています。当該 Lambda 関数はレコードの処理に平均10秒かかっています。一方で、ストリームは1秒あたり50個の新しい固有データを受信しています。想定される Lambda 関数の最大同時実行数を選択してください。
1. Lambda 関数呼び出しの最大同時実行数は 200 となる
2. Lambda 関数呼び出しの最大同時実行数は 100 となる
3. Lambda 関数呼び出しの最大同時実行数は 500 となる
4. Lambda 関数呼び出しの最大同時実行数は 50 となる
<details><div>
    答え：4
</div></details>

### Q64. ある会社ではモバイルアプリケーションを使用し、ゲームコンテンツを提供しています。ユーザーはSNSアカウントを使用してログインをする使用になっています。また、ユーザーがプレイした記録はDynamoDBテーブルにて保持するようにしています。この時ユーザーのデータをDynamoDB APIを呼び出して保存しますが、安全性のため署名を付与することを検討しています。この要件を満たす最適な方法はどれでしょうか？
1. リクエストに署名するためにゲームコンテンツと共に配布されるアクセス認証情報を使用してIAMユーザーを作成する方法
2. モバイルアプリケーションでAWSルートアカウントのアクセス認証情報を配布して、リクエストに署名します。
3. リクエストに署名するために、モバイルアプリケーションとDynamoDBテーブルの間にクロスアカウントアクセスを確立します。
4. ウェブIDフェデレーションを使用して一時的なセキュリティ認証情報をリクエストし、リクエストに署名する方法
<details><div>
    答え：4
</div></details>

### Q65. AWS CloudFormationを使用して、AWS Serverless Application Model(SAM)を使用してサーバレスアプリケーションをデプロイするテンプレートを作成しています。テンプレートのリソースセクションにSAMで定義されたオブジェクトを含めるために必要な、ドキュメントルートに含めなければならないセクションを選択してください。
1. Globals
2. Transform
3. Resources
4. Metadata
<details><div>
    答え：2
</div></details>

### Q66. ある会社では金融サービスを展開しています。金融サービスの特性上、高いコンプライアンスが求められています。今回監査にて、KMSを用いて暗号化を実施した際にKMSAPIを呼び出したユーザーが明確化されていないことが問題視されました。この問題を解決するためにどのサービスを利用すべきでしょうか？
1. ​AWS Config​
2. CloudWatch
3. Amazon Systems Manager
4. CloudTrail
<details><div>
    答え：4
</div></details>

### Q67. あなたはDevOpsエンジニアとしてCodeCommitとCodePiplineなどを利用して開発・テスト・デプロイまでのパイプラインを利用したCI/CD環境を整備しています。コード管理はCodeCommitを使用しています。コードの修正CodeCommitリポジトリにマージしており、CodeCommitの変更に反応するルールを設定したいと考えています。この時に必要なAWSサービスはどれでしょうか。
1. Cloudwatchイベント
2. AWS Lambda
3. Amazon SQS
4. Amazon SNS
<details><div>
    答え：1
</div></details>

### Q68. ある会社ではECSの前段にロードバランサーを配置したAmazonECSクラスターで実行されるコンテナアプリを開発しています。このアプリのDBにはDynamoDBを選定しています。今回DBに対する読み取り、書き込みの性能を向上させるという要望がアプリチームから上がってきました。そこで枠ロードを均等に分散し、プロビジョニングされたスループットを効率的に使用することで、データベースのパフォーマンスを向上させる方法を検討しています。この要件を満たすためにDynamoDBに設定すべき方法を選択してください。
1. パーティションキーとソートキーで構成される複合プライマリーキーを利用する。
2. カーディナリティの高いパーティションキーを使用する。​
3. カーディナリティの低いパーティションキーを使用する。​
4. DynamoDBにあるパーティションキーを削減する。
<details><div>
    答え：2
</div></details>

### Q69. あなたはエンジニアとしてAWS Organizations、複数部門で使用されている複数のAWSアカウントを管理しています。開発部門では2つのAWSアカウントを利用しており、アプリケーションA用とアプリケーションB用があります。アプリケーションAの新バージョンでは、アプリケーションBの環境への接続が必要です。アプリケーションAアカウントのメンバーに対してアプリケーションB環境へのアクセス許可を付与するための設定方法を選択してください。
1. アプリケーションAアカウントのメンバーに対して、アプリケーションB環境のリソースへのIAMポリシーを設定する。
2. アプリケーションAアカウントのメンバーに対して、アプリケーションB環境のリソースへのSTSによる一時認証を設定する。
3. アプリケーションAアカウントのメンバーに対して、アプリケーションB環境のリソースへのクロスアカウントアクセスを許可する。
4. アプリケーションAアカウントのメンバーに対して、アプリケーションB環境のリソースへのSCPを設定する。
<details><div>
    答え：3
</div></details>

### Q70. あなたはS3に格納している大量の顧客リストに対して、リストコマンド(aws s3 ls コマンド)を実行しましたが、ページサイズが大きすぎてエラーが発生してしまいました。対応として、使用するAPIコール数を最小限に抑えてページ数を区切ることが必要で、S3から出力されるリスト結果をページ分割するCLIコマンドを実行します。どのCLIオプションを使用する必要がありますか？ （2つ選択してください。）
1. –max-items
2. –max-size
3. aws s3 api list-objects
4. –page-size
<details><div>
    答え：1,4
</div></details>

### Q71. Web アプリケーションのログ分析アプリケーションについて、現在あるレポートの生成に 4 時間以上の時間がかかっています。この問題への対処も含め、以下の要件を要求されています。
・情報をリアルタイムでレポートする
・レポートが常に最新であることが保証される
・Webアプリケー ションへのリクエスト数の増加に対処できる
これらをすべて満たせるコストパフォーマンスが高いソリューションを 2 つ選択してください。
1. Web アプリケーションのログを Kinesis Data Streams に転送し、解析アプリケーションにてログデータを処理する
2. Lambda 関数により Webアプリケーション のログデータの取り出し、解析まで実行し、処理結果を DynamoDB に保存する
3. Amazon S3 と Global Accelerator を連携させ、高速なログ解析を実現する
4. 分析に Amazon EMR を利用し、かつ EMR クラスターでEMR マネージドスケーリングを活用し、処理能力を向上させる
<details><div>
    答え：1,4
</div></details>

### Q72. ビルド、テスト、リリースのプロセスを自動化して、コードが変更されるたびにそれらを実行できるＡＷＳサービスはどれですか？
1. CodeCommit
2. CloudFormation
3. CodeBuild
4. X-Ray
5. CodePipeline
<details><div>
    答え：5
</div></details>

### Q73. Elastic Beanstalkでウェブサーバー環境を構築するときに使用できるリソースはどれですか？すべて
1. S3バケット
2. ロードバランサ―
3. AutoScalingグループ
4. EC2
5. Lambda
<details><div>
    答え：１，２，３，４
</div></details>

### Q.74 CloudFormationテンプレートで使用できるセクションはどれですか？３つ
1. Parameters
2. Services
3. Outputs
4. Declarations
5. Resources
<details><div>
    答え：1,2,5
</div></details>

### Q75. スタックの管理に役立つCloudFormationの組み込み関数はどれですか？３つ
1. Ref
2. Fn:Join
3. AWS:Region
4. Cfn-init
5. Fn:GetAZs
<details><div>
    答え：2,3,5
</div></details>

### Q76. Lambdaサーバーレスアプリケーションをデプロイするにはどうすればよいですか？３つ
1. CloudFormationのデプロイコマンド
2. CodeCommit
3. SAM
4. CodeDeploy
<details><div>
    答え：１，２，４
</div></details>

### Q77. SQSを使用してメッセージキューアプリケーションを作成し、機密データをやりとりするときにメッセージの本文を暗号化するためにサーバー側暗号化を有効にしました。暗号化キーを一元的に管理し、更新できるさーびすはどれですか？
1. SQSではSSEはサポートされていない
2. KMSカスタマーマスターキー
3. IAM
4. KMSデフォルトマスターキー
<details><div>
    答え：2
</div></details>

### Q78. APIコールで指定した場合にオブジェクトがＳＳＥによって暗号化されるリクエストヘッダーはどれですか？
1. server-side-encryption
2. AES256
3. amz-server-side-encryption
4. x-amz-server-side-encryption
<details><div>
    答え：4
</div></details>

### Q79. Games-R-Usでは、mobileデバイス向けの新しいゲームアプリケーションをリリースしました。ユーザーが既存のFacebookアカウントを使用してゲームにログインすると、プレーヤーデータとスコア情報がAmazon DynamaDB テーブルに直接記録されます。DynamoDB APIへのリクエストに署名するための最も安全な方法はどれですか？
1. mobileアプリケーションとともに配布されるアクセス認証情報によりIAMユーザーを作成してリクエストに署名する
2. AWSルートアカウントアクセス認証情報をモバイルアプリケーションとともに配布してリクエストに署名する
3. ウェブIDフェデレーションを使用して一時的なセキュリティ認証情報を要求してリクエストに署名する 
4. モバイルアプリケーションとDynamoDBの間にクロスアカウントアクセスを確立してリクエストに署名する
<details><div>
    答え：3
</div></details>

### Q80. 友人Booにアクセス許可を付与するために、S3バケットのリソースベースの権限を設定しようと思います。BooのAWSアカウント番号は123412341234、IAMユーザーはBooです。ARNはどのようなけいしきになりますか
1. "Principal":{"AWS":["arn:aws:s3:123412341234:user/Boo"]}
2. "Principal":{["arn:aws:s3:123412341234:user/Boo"]}
3. バケットポリシーでは実行できない。IAMでユーザーベースのアクセス許可を作成する必要がある。
<details><div>
    答え：２
</div></details>

### Q81. 広告収益モデルの画像共有ウェブサイトをS3で運用し、サイト訪問者に画像を配信しています。いつからかその画像に他のサイトが直接リンクを張るようになり、広告収益の減少を招いていることに気づきました。この問題の影響を緩和するための効果的な対策はどのようなものですか
1. 写真をウェブサーバーのEBSボリュームに保存する
2. パブリックの読み込み権限を削除し、有効期限付きの署名URLを使用する
3. 静的コンテンツにCloudFrontディストリビューションを使用する
4. 被害を及ぼしているウェブサイトのIPをセキュリティグループで遮断する
<details><div>
    答え：２
</div></details>

### Q. 
1. 
2. 
3. 
4. 
<details><div>
    答え：
</div></details>


## サンプル問題2
### Q1. 稼働中の環境を新しいアプリケーションで更新するデプロイ方法はどれですか？
1. In-Place
2. Linear
3. 線形
4. Canary
<details><div>
    答え：1
</div></details>

### Q2. 時間に合わせて新環境の割合を増やしていくデプロイ方法はどれですか？
1. In-Place
2. Linear
3. Canary
4. Rolling
<details><div>
    答え：2
</div></details>

### Q3. 最初は数％のみのユーザーに提供して試験的にリリースし、そのうち全体を新環境に移行するデプロイ方法はどれですか？
1. In-Place
2. Rolling
3. All at Once
4. Canary
<details><div>
    答え：4
</div></details>

### Q4. 現バージョン環境とは別に新バージョン環境を構築して、リクエスト送信先を切り替える事によって無停止でリリースできるデプロイ方法はどれですか
1. In-Place
2. All at Once
3. Rolling
4. Blue/Green
<details><div>
    答え：3
</div></details>

### Q5. システムを構成しているサーバーを同時にIn-Place更新するデプロイ方法はどれですか
1. In-Place
2. All at Once
3. Immutable
4. Blue/Green
<details><div>
    答え：2
</div></details>

### Q6. プライベートにソースコードのバージョンを管理できるリポジトリサービスが必要です。次のどのサービスが適していますか？
1. CodeBuild
2. CodeCommit
3. CodeDeploy
4. CodeArtifact
<details><div>
    答え：2
</div></details>

### Q7. リリースプロセスにおいて、コンパイル、テスト、ソフトウェアのパッケージを実行するサービスは次のどれですか？
1. CodeBuid
2. CodeCommit
3. CodeDeploy
4. CodeArtifact
<details><div>
    答え：1
</div></details>

### Q8. 数クリックで、用意されたテンプレートをもとにCI/CDパイプラインを移築したいです。この場合、どのサービスが適していますか？
1. CodePipeline
2. CodeGrue
3. CodeStar
4. CodeDeploy
<details><div>
    答え：3
</div></details>

### Q9. 開発者は、使い慣れたGitコマンドを使ってソースコードのバージョン管理をしたいと考えています。最も適したサービスは次のうちどれですか？
1. CodeBuid
2. CodeCommit
3. CodeDeploy
4. CodeArtifact
<details><div>
    答え：2
</div></details>

### Q10. CodeCommitのリポジトリに安全に接続できるプロトコルは次のうちどれですか？２つ
1. RDP
2. SSH
3. FTP
4. DNS
5. HTTPS
<details><div>
    答え：２，５
</div></details>

### Q11. CodeCommitへのアクセス権限の設定は次のどれで設定しますか
1. CodeCommitのリソースポリシー
2. IAMユーザーにアタッチするIAMポリシー
3. Amazon LinuxのOSユーザーのパーミッション
4. Gitクライアントユーザーのパーミッション
<details><div>
    答え：2
</div></details>

### Q12. CodeCommitでソースコードが更新されたとき、事前に設定している管理者にEメールを送信しなければなりません。この場合、どのサービスを利用しますか？
1. SQS
2. SNS
3. Chatbot
4. SES
<details><div>
    答え：2
</div></details>

### Q13. ソースコードが更新されたときにレビューを行い、承認を行いたいです。メンバーは全員AWSアカウントでIAMユーザーの認証情報を持っているので、IAMポリシーで制限や許可をしたいです。この場合、どのサービスを利用するのが最も適していますか？
1. Github
2. GitLab
3. CodeCommit
4. Bitbucket
<details><div>
    答え：3
</div></details>

### Q14. CodeBuildで、ビルド対象のソースとして選択できるのは次のうちどれですか？
1. CodeCommitのみ
2. S3とCodeCommitのみ
3. S3、CodeCommit、GitHub、Bitbucket
4. S3、CodeCommit、GitHub、GitLab、Bitbucket
<details><div>
    答え：3
</div></details>

### Q15. CodeBuildのビルドの仕様はどうやって定義しますか？
1. buildspec.ymlファイルに記述して、ソースのルートレベルに配置する
2. ターミナルで、シェルスクリプトですべて記述する
3. Pythonでコーディングする
4. appspec.ymlに記述する
<details><div>
    答え：1
</div></details>

### Q16. buildspec.ymlに記述した内容に問題がないか、アプリケーションをコミットする前に実行可能な状態にして確認したいです。この場合、どうやって確認するのが最適ですか？
1. CodeBuildを実行して、アーティファクトから実行ファイルをダウンロードして実行確認する。
2. CodeBuildローカルエージェントを使用して、開発環境でテストする。
3. 本番環境にリリースしてテストする
4. CodeBuildローカルエージェントにはCloud9が必要なので、Cloud9を起動する
<details><div>
    答え：2
</div></details>

### Q17. CodeDeployのデプロイ仕様はどうやって定義しますか？
1. buildspec.ymlファイルに記述する
2. ターミナルでシェルスクリプトですべて記述する
3. Pythonでコーディングする
4. appspec.ymlファイルに記述してリビジョンに含める
<details><div>
    答え：4
</div></details>

### Q18. CodePipelineで選択できる対象のソースプロバイダは次のうちどれですか？
1. CodeCommitのみ
2. CodeCommit、ECR、S3のみ
3. CodeCommit、ECR、S3、Bitbucket、Github
4. CodeCommit、ECR、S3、Bitbucket、Github、GitLab
<details><div>
    答え：3
</div></details>

### Q19. CodePipelineで選択できる対象のビルドプロバイダは次のうちどれですか？
1. CodeBuidのみ
2. CodeBuid、Jenkins
3. CodeBuid、Jenkins、Bitbucket、Github
4. CodeBuid、Jenkins、Bitbucket、Github、GitLab
<details><div>
    答え：2
</div></details>

### Q20. CloudFormationを使ってスタックを作成するユーザーが、開発環境、本番環境を選択できるようにしたいと考えています。この場合、どのセクションを使いますか？２つ
1. Outputs
2. DependsOn
3. Mappings
4. Parameters
5. Conditions
<details><div>
    答え：2.5
</div></details>

### Q21. CloudFormationを使って複数リージョンで独自のAMIを使用したEC2インスタンスを含むアーキテクチャを起動したいです。この場合、どのセクションを使いますか？
1. Outputs
2. DependsOn
3. Mappings
4. Parameters
<details><div>
    答え：3
</div></details>

### Q22. CloudFormationを使ってアプリケーションレイヤーとネットワークレイヤーにそれぞれスタックを作成します。ネットワークレイヤーにはVPCとサブネット、アプリケーションレイヤーではEC2インスタンスを起動します。次のどの手順が最適ですか？２つ
1. ネットワークレイヤーのテンプレートでOutputsセクションにExportを定義する
2. ネットワークレイヤーのスタックを作成して、できたサブネットのIDをアプリケーションレイヤーのテンプレートに直接記述する
3. アプリケーションレイヤーのテンプレートで、ImportValue関数を使用して、ネットワークレイヤースタックでExportされたサブネットIDを入力できるパラメータを設定する
4. SSM::Parameterで、同じアカウント内の適したサブネットIDを自動的に設定する
<details><div>
    答え：1.3
</div></details>

### Q23. 組織にはChefを使用して構成しているシステムと、Chefの蘊奥にたけたエンジニアがいます。AWSの使用開始にあたり、どのサービスを使用するのが最短で使い始められる方法ですか
1. CloudFormation
2. Elastic Beanstalk
3. CodeStar
4. OpsWorks
<details><div>
    答え：4
</div></details>

### Q24. Elastic Beanstalkによって作成できるリソースは次のどれですか 
1. IAMユーザー
2. EFS フ ァ イ ル シ ス テ ム 
3. CloudFormation ス タ ッ ク
4. Application Load Balancer
5. Step Functions 
<details><div>
    答え：3.4
</div></details>

### Q25. Elastic Beanst で 設定できるデブロイメントボリシーを１つ選択
1. All at once の み 
2. Rolling の み 
3. All at once と Rolling 
4. イ ン ス タ ン ス に ロ グ イ ン し て 手 動 更 新 
<details><div>
    答え：3
</div></details>

### Q26. Elastic Beanstalk で 環境作成のエラーやヘルスステータスの変更したとき、管理者にメール通知したいです。どのサービスと連携しますか。
1. Simple Email Service 
2. Simple Queue Service 
3. Simple Notification Service 
4. Simple Storage Service 
<details><div>
    答え：3
</div></details>

### Q27. Elastoc BeanstalkがAWSリソースのヘルスステータスを確認するために必要な権限設定は次のどれですか
1. 同じアカウントのリソースについては、設定しなくてもステータス確認が可能
2. Elastic Beanstalk環境を作成したIAMユーザーにAWS管理ポリシーAWSElastic BeanstalkEnhancedHealthとAWSElastic BeanstalkServiceをアタッチする
3. IAMロールにAWS管理ポリシーBeanstalkEnhancedHealthとAWSElastic BeanstalkServiceをアタッチして、Elastic Beanstalkにサービスロールとして設定する
4. Elastic Beanstalk環境を覚醒したIAMユーザーにAWS管理ポリシーBeanstalkEnhancedHealthとAWSElastic BeanstalkServiceをアタッチして、アクセスキーIDとシークレットアクセスキーを作成してElastic Beanstalkに設定する
<details><div>
    答え：3
</div></details>

### Q28. Elastic Beanstalkで構築したPHPSDKアプリケーシンはs3バケットオブジェクトのアップロード、ダウンロードを行います。次のうち最も最適な方法はどれでしようか?1つ選択してください。
1. ユーザーに該当s3バケットへのすべてのアクションを許可するIAMボリシーをアタッチするIAMユーザーのアクセスキーIDとシークレットアクセスキーをEC2インスタンスにawsconfigureコマンドによってセットアップする。
2. バケットボリシーを作成して、EC2インスタンスが使用しているElasticIPからのリクエストしか受け付けないようConditionsを設定する。
3. ロールを作成して対象のS３バケットを指定し、アップロード、ダウンードを可能とするIAMボリシーをアタッチする。そのIAMロールをEC2にを受けさせる。
4. ElasticBeanstalkサービスロールに対象のS3バケットを指定して、アップ-ド、ダウンロードを可能とするIAMポリシーをアタッチする。
<details><div>
    答え：3
</div></details>

### Q29. EB CLIを使用して環境を構築します。使用する最低限のコマンドはどれですか?
1. ebinitとebdeploy
2. ebcloneとebcreate
3. ebcinitとebcreate
4. ebcreateとebdeploy
<details><div>
    答え：3
</div></details>

### Q30. Elastic Beanstalkで作成したアプリケーションのソースファイルをS3で保存しています。週去バージョンのソースファイルをバージョン管理によって削除したいです。次のうちどの方法が最適ですか?
1. S3バケットのライフサイクルポリシーによって指定したバージョン数を保存する
2. Elastic Beanstalkのバージョンライフサイクル機能でバージョン数を設定する
3. Lambda関数を作成し、特定のバージョン数を保持するようにコードを記述する
4. Elastic Beanstalkのバージョンライフサイクル機能でバージョン
<details><div>
    答え：4
</div></details>

### Q31. Elastic Beanstalkで作成する環境のEC2インスタンスに追加するモジュールの最新バージョンを、起動時にはインストールが完了した状態にしておきたいです。次のうち最適な方法を1つ選択してください。
1. 起動後、EC2インスタンスにターミナルからログインしてモジュールを追加する。
2. systemsManagerRunCommandを実行してモジュールを追加する。
3. EBCLIコマンドを実行するディレクトリに.ebextensionsディレクトリを作成し、config.ymlにモジュール追加指示を記述する。
4. 追加のモジュールをインストール済みのAMIを作成する。
<details><div>
    答え：3
</div></details>

### Q32. Elastic Beanstalkを使用して、無停止でソフトウェアの新バージョンをリリースしたいです。次のどの方法を使用しますか
1. Allatonceデプロイを実行する
2. 起動中のサービスを停止し、ソフトウェアをインストールしてサービスを再構築する
3. 現環境のクローンを作成して、現環境に新バージョンのソフトウェアをデプロイする。環境URLのスワップを行う。これらの操作によるBlue/Greenデプロイを実行する
4. 現環境のクローンを作成して、新しい観光に新バージョンのソフトウェアをデプロイする。環境URLのスワップを行う。これらの操作によるBlue/Greenデプロイを実行する。
<details><div>
    答え：4
</div></details>

### Q33. Elastic Beanstalkで構築できる環境を次から２つ選択してください
1. サーバーレスアーキテクチャ
2. 機械学習推論モデルの繰り返し構築
3. データレイク
4. Webサーバー環境
5. ワーカー環境
<details><div>
    答え：4.5
</div></details>

### Q34. 組織はサーバーレスアプリケーションの開発とデブロイを素早く開始したいと考えています。次のうち最も適した方法はどれでしようか?1つ選択してください。
1. ElasticBeanstalk
2. AWSSAM
3. OpsWorks
4. AWSCDK
<details><div>
    答え：2
</div></details>

### Q35. AWS SAM によるプロジクト開始からデプロイまでのコマンド実行で正しい順番はつぎのどれでしょうか
1. saminit,samcreate,samdeploy
2. Saminit,samdeploy
3. saminit,sambuild,samdeploy
4. saminit,sambuild.samexeCUte
<details><div>
    答え：3
</div></details>

### Q36. サーバーレスアプリケーションAPIのテストをローカル環境で行います。どの方法か適切でしようか?１つ選択してください。
1. CodeBuildのローカルエージェントでテストを行う。
2. 関数コードにローカルテストコーティンクをする。
3. Jenkinsを使用する。
4. sam local start-apiを実行する
<details><div>
    答え：4
</div></details>


## サンプル問題3
### Q1. 責任共有モデルにおいて、ユーザーが担当するのはどれですか
1. AWSサービスAPIのネットワークレイヤーの保護
2. ハードウェアのアップデート
3. ストレージの破棄処理
4. EC2インスタンスのWindowsセキュリティアップデート
<details><div>
    答え：
</div></details>

### Q2. 責任共有モデルにおいてユーザーが検討するのはどれですか
1. SQSキューメッセージの複数サーバーでの冗長化
2. EC2インスタンスファミリーのハードウェア構成
3. AWSデータセンターで保存されているS3オブジェクトの暗号化
4. RDSインスタンスへのデータベースソフトウェアのインストール
<details><div>
    答え：
</div></details>

### Q3. インターネットからは直接アクセスさせたくないインスタンスから、インターネット上のAPIへのリクエストを実行したいです。
1. インターネットゲートウェイ、のルートを設定したルートテーブルを関連付けたバブリックサブネットにインスタンスを配置する。
2. インターネットゲートウェイへのルートを設定したルートテーブルを関連付けたバブリックサブネットにNATゲートウェイを配置して、そのNATゲートウェイへのルートを設定したルートテーブルを関連付けたプライベートサブネットにインスタンスを配置する。
3. プライベートサブネットにNATゲートウェイを配置して、そのNATゲートウェイへのルートを設定したルートテープルを関連付けたプライベートサブネットにインスタンスを配置する。
4. プライベートサプネットにインスタンスを配置する。
<details><div>
    答え：
</div></details>

### Q4. パブリックサブネットで起動したNginx Webサーバーをインストール済み、Webアプリケーションをデプロイ済のEC2インスタンスのパブリックIPアドレスに、ブラウザからアクセスしましたが、タイムアウトになりました。何を確認すればいいでしょうか
1. セキュリティグループインバウンドルールで80番ポートが明示的に拒否されていないか確認する
2. セキュリティグループインバウンドルールとアウトバウンドルールで80番ポートが許可されていることを確認する
3. セキュリティグループインバウンドルールで80番ポートが許可されていることを確認する
4. セキュリティグループインバウンドルール80番ポートと、アウトバウンドルールで一時ポートが許可されていることを確認する
<details><div>
    答え：
</div></details>

### Q5. パブリックサブネットで起動したNginx Webサーバーをインストール済み、Webアプリケーションをデプロイ済のEC2インスタンスのパブリックIPアドレスに、ブラウザからアクセスしましたが、タイムアウトになりました。何を確認すればいいでしょうか
1. NACLインバウンドルールで80番ポートが明示的に拒否されていないか確認する
2. NACLインバウンドルールとアウトバウンドルールで80番ポートが許可されていることを確認する
3. NACLインバウンドルールで80番ポートが許可されていることを確認する
4. NACLインバウンドルール80番ポートと、アウトバウンドルールで一時ポートが許可されていることを確認する
<details><div>
    答え：
</div></details>

### Q6. S3、KeyManagementserviceへのリクエストを実行する社内アプリケーションが、EC2インスタンスにデブロイされています。本社ビルがVPNで接続しているvpcのサブネットで起動しています。vpcにはインターネットゲートウェイをアタッチしたくありません。どうすればいいですか?1つ選択してください。
1. 
2. 
3. 
4. 
<details><div>
    答え：
</div></details>

### Q. 
1. 
2. 
3. 
4. 
<details><div>
    答え：
</div></details>

### Q. 
1. 
2. 
3. 
4. 
<details><div>
    答え：
</div></details>
