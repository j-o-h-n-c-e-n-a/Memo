## 1: SDLCの自動化


CI/CD

CodeCommit
Jenkins

CodeBuild

CodeDeploy
    ColudFormation
    Beanstalk
    OpsWprks

CodePipeline
    ソース
        S3
        CodeCommit
        GitHub
    ビルド
        CodeBuild
    テスト
        CodeBuild
        Jenkins
    デプロイ
        CodeDeploy
    コール
        Lambda
    サブミット
        SNS

テスト
    単体テスト
    結合テスト
    回帰テスト
    負荷テスト

## 2: 設定管理とIaC
IaC
システム更新
    カナリア
    B/Gデプロイ

OpsWorks
    Chef
    Puppet

コンテナ
    ECS、ECR

API Gateway

## 3: モニタとロギング

## 4: ポリシーと標準の自動化
Inspecter

Config

コスト最適化
    Trusted Advisor

コンプライアンス
    Service Catalog

## 5: インシデントとイベントレスポンス

## 6: 高可用性、耐障害性、災害対策

## 参考
### ホワイトペーパー
* AWSでコンテナ化されたマイクロサービスを運用する
* AWSにおけるマイクロサービス
* Infomation as Code
* AWSにおける継続的インテグレーションと継続的でりばりーの実践
* AWSにおけるJenkins
* PowerShellを使用してEC2にWindowsServerをインポートする
* AWSでのブルー・グリーンデプロイ
* AWSでのDevOps入門
* AWSでの開発とテスト

## サンプル問題
### Q82. ある企業で、AWS CodeCommit を使用してアプリケーションのソースコードを管理しています。その企業では、セキュリティ認証情報が絶対にコードリポジトリにコミットされないようにしたいと考えています。 これを達成する最適な方法は何ですか? (1 つ選択してください)
1. Amazon CloudWatch Events ルールを作成し、Lambda 関数をトリガーして認証情報をスキャンする。スキャンがリポジトリに正常にプッシュされたらスキャンを行い、認証情報が検出された場合は Amazon SNS 通知をトリガーして、DevOps チームに警告を送信する。
2. git-secrets を pre-commit フックとして設定する。セキュリティ認証情報が検出された場合、コミットの作成をブロックする。
3. ビルドプロセスを更新し、セキュリティ認証情報を探す。AWS CodeBuild で何らかのセキュリティ認証情報が検出された場合、ビルドジョブを停止し、DevOps チームに報告して調査を行う。
4. AWS Secrets Manager を設定し、AWS CloudTrail ログをスキャンする。AWS CodeBuild への API コールでセキュリティ認証情報が検出された場合、ブロックして流出を防ぐ。
<details><div>
    答え：2
</div></details>

### Q83. ビルド環境のセキュリティを見直す任務を担当しています。会社では、CI/CD パイプラインのこの要素の管理に、AWS CodeBuild を使用しています。 承認されたユーザーのみがサービスにアクセスでき、生成されるビルドアーティファクトが安全に保存されるようにするには、どのような手段を取ることができますか?(2 つ選択してください)
1. VPC 内に AWS CodeBuild を設定する際に、ポート 22 アクセスがオープンになっていないセキュリティグループを割り当てるようにする。
2. DevOps チームに AWSCodeBuildAdminAccess ポリシーがアタッチされたロールを提供する。他にこのポリシーへのアクセスを持った社員がいないことを確認する。
3. デフォルトで暗号化が有効な Amazon S3 バケットにビルドアーティファクトをプッシュするポストビルドコマンドを追加する。
4. ビルド環境の環境変数で S3ObjectEncryption を「True」に設定する。これによりビルドされたすべてのアーティファクトは安全に保存される。
5. すべてのビルドアーティファクトはデフォルトで安全に保存される。AWS CodeBuild にビルドされるので、追加作業の必要はない。
6. インターネットアクセスのない VPC サブネット内に AWS CodeBuild 環境を
作成する。これでは、ユーザーがサービスにリモートでアクセスできなくな
ります。
<details><div>
    答え：2,3
</div></details>

### Q84. 月額料金が予想より高くなり、AWS のコストの全体的な削減を任されたとします。部署内で認識されているコスト分野の 1 つとして Jenkins に費やされる金額があります。 ビルド環境のフットプリントをどのように減らすことができますか?(1 つ選択してください)
1. Jenkins スレーブを Auto Scaling グループに移行する。各ビルドのジョブステータスを含むカスタム Amazon CloudWatch メトリクスを作成する。ジョブが完了したら、EC2 インスタンスに拡張する Auto Scaling グループに通知する
2. Jenkins に EC2 プラグインをインストールする。これにより、ビルドのリクエストに基づいて EC2 インスタンスが自動的に起動および終了される
3. Jenkins を AWS CodePipeline に統合する。AWS CodePipeline は変更をプッシュするため、Jenkins に新しいビルド環境の作成および不要なものの終了を通知する
4. AWS Lambda 関数を作成し、1 日の始めに新しい Jenkins スレーブを起動する。作業が終了した後、2 番目の AWS Lambda 関数をスケジュールし、Jenkins スレーブを終了させる。
<details><div>
    答え：2
</div></details>

### Q85. プロジェクト管理とコラボレーション機能のため、AWS CodeStar を使用することを決定した企業で、AWS CodeStar のテストおよび実験を行うため、Node.js のプロジェクトテンプレートを選択して AWS CodeCommit レポを作成し、Git コマンドを使ってウェブアプリケーションをデプロイしたとします。デプロイステージは「Start-Hello-World」という AWS Lambda 関数を呼び出しますが、このリソース名を変更したいとします。 
1. AWS CodeCommit リポジトリに移動し、リソース名パラメータを buildspec.yml ファイルで変更し、Git コミット経由で変更内容をプッシュする。
2. AWS CodeCommit リポジトリに移動して template.yml ファイルで AWS Lambda リソース名を変更する。
3. AWS CodeStar Node.js は事前設定された名前を使用してリソースを作成するため、AWS Lambda コンソールに移動してリソース名を更新する必要がある
4. AWS CodeCommit リポジトリに移動し、template.yml ファイルで chmod 600 を実行する
<details><div>
    答え：2
</div></details>

### Q86. 新任の開発者が、AWS CodeBuild を使用した Docker イメージを作成する buildspec.yml ファイルの作成に苦戦しています。Amazon ECR にログインしてプレビルドステージでリポジトリ URI を設定する必要があるのですが、開発者はビルドおよびポストビルドステージのオプションを把握していません。 開発者は buildspec.yml ファイルでビルドおよびポストビルドステージをどのように設定すべきでしょうか?(1 つ選択してください)
1. ビルドステージ: Docker イメージを “docker build –t $REPOSITORY_URI:latest” で構築する。ポストビルドステージ: ECR リポジトリにイメージを “docker push $REPOSITORY_URI:latest“ でプッシュする。
2. ビルドステージ: 「aws ecr get-login」を使用して ECR にログインし、リポジトリ URI を設定する。 ポストビルドステージ: 「aws ecr push $REPOSITORY_URI:latest」を使用してイメージをプッシュする。
3. ビルドステージ: ビルドステージは ECR 後、プレビルド中に自動的に起動するので、何もする必要がない。 ポストビルドステージ: 「docker stage $REPOSITORY_URI:latest」を使用してイメージをプッシュする。
4. ビルドステージ:「docker push  –t $REPOSITORY_URI:latest」を使用して Docker イメージをビルドします。ビルド後のステージ:「docker push $REPOSITORY:latest」を使用してイメージをプッシュします。
<details><div>
    答え：1
</div></details>

### Q87. AWS CloudFormation スタック内のリソースを更新するよう依頼されています。更新を実行しようとすると、更新が失敗し、変更をロールバックすると、スタックが UPDATE_ROLLBACK_FAILED 状態になります。ロールバックが失敗する原因は何ですか?(1 つ選択してください)
1. この更新により、ロールバック不可能な新しい Auto Scaling グループが作成された。
2. この更新により、ロールバック不可能な空の Amazon S3 バケットが作成された。
3. このスタックのリソースが AWS CloudFormation 以外で変更されている。
4. このスタックのリソースは、スケールダウンされた Auto Scaling グループの一部である。
<details><div>
    答え：3
</div></details>

### Q88. ブルー/グリーンデプロイの管理を担当しています。ブルーのアーキテクチャは、1 つのロードバランサーの後ろに登録された Auto Scaling グループで構成されています。開発チームからは、今後 24 時間にわたり、予期せぬバグが出現した場合にはすばやくロールバックを行う必要があると聞いています。 このデプロイを最適に処理するにはどうすればよいですか?(1 つ選択してください)
1. 新しい起動設定を作成し、Auto Scaling グループにアタッチする。InstanceCutoverTime を 24 時間に設定して新しいリソースに徐々に移行するようロードバランサーを設定する。
2. 新しい起動設定を構築し、新しい Auto Scaling グループにアタッチする。新しいロードバランサーの後ろにある Auto Scaling グループに登録する。加重 Route 53 パブリックレコードセットを作成し、トラフィックを古い環境から新しい環境に徐々に移行する。
3. 新しい起動設定を構築し、新しい Auto Scaling グループにアタッチする。新しいロードバランサーの後ろにある Auto Scaling グループに登録する。デプロイ用 Route 53 プライベートレコードセットを作成し、移行時間を 12 時間に設定する。
4. AWS Elastic Beanstalk を使用して、既存のアーキテクチャを新しいアプリケーションに移行する。新しいバージョンのアプリケーションを作成し、新しいコードをデプロイし、Route 53 を使用して古い環境から新しい環境への変更を処理する。
<details><div>
    答え：2
</div></details>

### Q89. DevOps エンジニアとして、インフラストラクチャのために多数の AWS CloudFormation スタックを作成しました。クリーンアップを行うことに決定したので、削除すべき多数のスタックを識別しました。 対象のスタックを削除しようとすると、削除コマンドが失敗します。 スタックの削除を妨げているのは次のうちどれですか?(2 つ選択してください)
1. AWS CloudFormation スタックが JSON ではなく YAML を使用して作成されました。
2. VPC に AWS CloudFormation テンプレートの外部で作成された EC2 インスタンスがある。
3. AWS CloudFormation スタックで終了保護が有効になっている。
4. AWS CloudFormation スタックで 5 つを超えるカスタムリソースが定義されている。
<details><div>
    答え：2,3
</div></details>

### Q90. 既存のオンプレミスアプリケーションをクラウドに移行する任務を担当しています。開発チームは、このアプリケーションを AWS Elastic Beanstalk でデプロイすること、また Amazon SQS を使用することを決定しました。 このアプリケーションを正常にデプロイするにはどうすればよいですか?(1 つ選択してください)
1. オンプレミス環境に CLI ツールをインストールすることにより、AWS Elastic Beanstalk のアプリケーションインポート機能を使用する。インポート後、アプリケーションを Amazon SQS キューにサブスクライブし、動作させる。
2. AWS OpsWorks スタックを作成する。Amazon SQS、Elastic Load Balancing、および AWS Elastic Beanstalk を個別のレイヤーとして指定する。AWS Elastic Beanstalk にアプリケーションをデプロイする。
3. 必要なコードを含む Docker コンテナを使用する。 AWS Elastic Beanstalk ワーカー環境にコンテナをデプロイする。
4. EC2 インスタンスにコードをデプロイする。AWS Elastic Beanstalk をインスタンスに指定してアーキテクチャを管理し、Amazon SQS キューを作成する。
<details><div>
    答え：3
</div></details>

### Q91. ウェブサーバーの Auto Scaling グループ前にロードバランサーを含むアプリケーションを担当しています。継続的デリバリーシステムによってアプリケーションバージョンごとに新しい AMI を作成することで、アプリケーションの起動を最小限に削減しています。アプリケーションの新しいバージョンでは A/B デプロイに移行し、ユーザーの一部を最低 24 時間移行して、残りを移動する前に新しいバージョンが適切に動作するようにしたいと考えています。この手法を有効にして簡単にロールバックできるようにするには、どのオプションを選択すれば良いですか?(1 つ選択してください)
1. 新しい AMI を指定する新しい Auto Scaling 起動設定を作成する。Auto Scaling グループを設定し、この設定を使用する。Auto Scaling のローリング更新機能を使用して、2 つの起動設定間で必要な比率を作成する。
2. 新しい AMI を指定する起動設定で新しい Auto Scaling グループを作成する。ロードバランサーにインスタンスを登録するようにグループを設定する。作成する両方の Auto Scaling グループで希望する容量を設定する
3. 新しい AMI を指定する起動設定で新しい Auto Scaling グループを作成する。ロードバランサーにインスタンスを登録するようにグループを設定する。2 つのグループ間で必要な比率を作成するようロードバランサーを設定する。
4. 新しいロードバランサーを作成する。新しい AMI を指定し、新しいロードバランサーにインスタンスを登録するようにを設定した起動設定で新しい Auto Scaling グループを作成します。Amazon Route 53 の加重ラウンドロビンを使用して、ロードバランサー間で必要な比率を作成します。
<details><div>
    答え：4
</div></details>

### Q92. 会社のウェブアプリケーションのフロントエンドの作成および管理を担当している開発チームが、デプロイプロセスの自動化についてサポートを求めています。この自動化を達成する最適な方法は、AWS CloudFormation を使用してアプリケーションの変更をプッシュすることだと判断しました。AWS CloudFormation テンプレートの最初のデプロイが動作し、アプリケーションコードがデプロイされました。ただし、後続のコードデプロイに最大で 15 分かかりました。 デプロイ時間を短縮するにはどうすればよいですか? (1 つ選択してください)
1. cfn-hup.conf ファイルが正しく設定されていない。間隔値を下げてデプロイ時間を短縮する。
2. AWS CloudFormation テンプレートの更新ポリシーで、MaxBatchSize 値が大きすぎる。この値を下げてデプロイ時間を短縮する。
3. AWS CloudFormation は EC2 インスタンス内のアプリケーションへの継続的な更新をサポートしていない。アプリケーションを AWS OpsWorks に移行してデプロイ時間を短縮する。
4. cfn-metadata が EC2 インスタンスに設定されていない。これを有効にする必要がある。そうすると、EC2 インスタンスが迅速に更新をアプリケーションにポーリングして必要なコードをダウンロードできるようになる。
<details><div>
    答え：1
</div></details>

### Q93. あなたは現在、会社の年次監査に向けて準備をする業務を担当しています。数か月以内に現地監査がありますが、その際、監査人は AWS アカウントからアプリケーション、システム、AWS API のログにアクセスする必要があります。 必要な情報に監査人がアクセスできるようにするには、どうすれば良いですか?(1 つ選択してください)
1. 何もする必要はない。AWS はデフォルトでセキュアであり、すべてが自動的に記録される。監査人が到着したら、AWS テクニカルサポートにログを指定して、必要な情報を取得する。
2. アプリケーションレベルのログを提供するため、EC2 インスタンスで CloudWatch Logs を設定、構成する。CloudWatch および CloudWatch Logs のアクセス権を監査人に付与し、必要な情報を探せるようにする。
3. アプリケーションレベルのログを提供するため、EC2 インスタンスで CloudWatch Logs を設定、構成する。CloudTrail を有効化する。CloudWatch へのアクセス権とシステムレベルのアクセス権を監査人に付与して、アプリケーションログを取得できるようにする。
4. アプリケーションレベルのログを提供するため、EC2 インスタンスで CloudWatch Logs を設定、構成する。CloudTrail を有効化する。CloudWatch、CloudWatch Logs、CloudTrail へのアクセス権を監査人に付与し、必要な情報を探せるようにする。
<details><div>
    答え：4
</div></details>

### Q94. ウェブサイトでは、Auto Scaling が有効化されていますが、ピーク時の応答時間が予想よりも長くなっています。 応答時間を短縮するには、Auto Scaling ポリシーをどう編集すれば良いですか?(2 つ選択してください)
1. Amazon CloudWatch の CPU と帯域幅のカスタムメトリクスをパブリッシュする。
2. Auto Scaling グループ内のサーバーの最大数を増やす。
3. CPU 負荷をモニタリングするスクリプトを作成し、Amazon SQS を使用して Auto Scaling に通知する。
4. Amazon CloudWatch の同時リクエスト数のカスタムメトリクスをパブリッシュし、Auto Scaling にそのアラームを使用させる。
5. 詳細モニタリングを有効にして、メトリクスで 1 分未満の時間間隔を有効にする。
<details><div>
    答え：2,4
</div></details>

### Q95. オペレーションメトリクスに関するミーティングに向けての準備中、16 日から 18 日前にかけて、ウェブアプリケーションから最大 1 分間のレイテンシーが生じた時間帯が複数あったことに気が付きました。 この増加の原因の特定に有用ではない手法はどれですか? (2 つ選択してください)
1. Amazon CloudWatch のメトリクスを使用して、この時間帯にデータベースの CPU 使用率が高かったかどうかを判断する。
2. Amazon CloudWatch メトリクスを使用して、問題が始まった正確な時間を特定する。
3. AWS CloudTrail ログを使用して、この時間帯に手動で停止された Amazon EC2 インスタンスがあったかどうかを判断する。
4. AWS CloudFormation のログを調べて、この時間帯に発生したスケーリングイベントがあったかどうかを判断する。
5. AWS CloudTrail ログを分析して、この時間帯に Elastic Load Balancing でレイテンシーレートが増加したかどうかを判断する。
6. Elastic Load Balancing のアクセスログを分析して、この時間帯に Elastic Load Balancing でレイテンシーが増加したかどうかを判断する。
<details><div>
    答え：4,5
</div></details>

### Q96. 最近のデプロイで、アプリケーションから 404 が返されるスパイクが発生しました。お客様からサポートチームに何かがおかしいと問い合わせがあるまで、数時間これに気付きませんでした。マネージャーはあなたに、この問題が将来起こったときに捕捉できるようなリアルタイムのモニタリングソリューションを構築するよう指示しました。 ソリューションを実装するためにどんな手順を実行しますか?(3 つ選択してください)
1. Amazon CloudWatch Logs エージェントをインストールし、関連ログを指定する。
2. CLI スクリプトを記述してログを圧縮し、Amazon S3 バケットに送信する。これを cron ジョブとして実行する。
3. Lambda 関数を作成して Amazon S3 からログをダウンロードし、404 を探して、見つけたらそれを Amazon CloudWatch に報告する。
4. 404 エラーを探すフィルターをロググループに作成する。
5. Amazon CloudWatch アラームを作成し、上昇したレートをこれらのデータポイントに基づいて探す。
6. Amazon S3 バケットで Amazon CloudWatch ロググループを指定して、ログをダウンロードする。
<details><div>
    答え：1,4,5
</div></details>

### Q97. Amazon EC2 に負荷分散を備えたアプリケーションサーバー 3 つとプロビジョンド IOPS ストレージを持つ Amazon RDS データベース 1 つで構成されるステートレスなウェブアプリケーションを実行しています。ユーザーへの平均応答時間が増加しつつあります。Amazon CloudWatch を調べたところ、アプリケーションサーバーでの CPU 使用率は 95% でメモリ使用量は最小限であり、データベースでは CPU 使用率は 20% で、ディスク操作は最小限です。応答時間を改善できるオプションはどれですか?(2 つ選択してください)
1. より適切な CPU 容量を持つアプリケーションサーバー用に、別の Amazon EC2 インスタンスタイプを選択する。
2. Auto Scaling を使用し、CPU 負荷のしきい値に基づいて別のアプリケーションサーバーを追加する。
3. Amazon EC2 インスタンスごとに許可するオープン TCP 接続の数を増やす。
4. Auto Scaling を使用し、メモリ使用率のしきい値に基づいて別のアプリケーションサーバーを追加する。
5. Amazon RDS データベースのプロビジョンド IOPS の数を増やす。
<details><div>
    答え：1,2
</div></details>

### Q. 保護医療情報を格納するアプリケーションを設計しています。アプリケーションのセキュリティ上およびコンプライアンス上の要件では、アプリケーションのすべての保護医療情報を保存中と移動中に暗号化することが求められています。このアプリケーションは 3 層アーキテクチャを使用しており、データはロードバランサーを経由し、処理のために EBS ボリュームに保存され、その結果が AWS SDK を使用して Amazon S3 に保存されます。次の 2 つの選択肢のうち、セキュリティ要件を満たしているものはどれですか?(2 つ選択してください)
1. ロードバランサーの SSL ターミネーション、EC2 インスタンスの Amazon EBS 暗号化、Amazon S3 のサーバー側の暗号化を使用する。
2. ロードバランサーの SAN SSL 証明書を使用した SSL ターミネーション、すべての Amazon EBS ボリュームで Amazon EBS 暗号化を使用した EC2、Amazon S3 のカスタマー管理型キーによるサーバー側の暗号化を使用する。
3. ロードバランサーの TCP 負荷分散、EC2 インスタンスの SSL ターミネーション、Amazon EBS ボリュームの OS レベルでのディスク暗号化、Amazon S3 のサーバー側の暗号化を使用する。
4. ロードバランサーの TCP 負荷分散、EC2 インスタンスの SSL ターミネーション、Amazon S3 のサーバー側の暗号化を使用する。
5. ロードバランサーの SSL ターミネーション、EC2 インスタンスの SSL リスナー、PHI を格納する EBS ボリュームの Amazon EBS 暗号化、Amazon S3 のサーバー側の暗号化を使用する。
<details><div>
    答え：2,4
</div></details>

### Q. 会社の AWS アカウント管理者が本日をもって退職しました。この管理者は、ルートユーザーと IAM 管理者の個人アカウントに対するアクセス権を持っていました。この管理者はこのアカウントで、他の IAM ユーザーとキーを生成していました。AWS インフラストラクチャを保護するために、次のうちどれを実行するべきですか? (3 つ選択してください)
1. パスワードを変更し、ルートユーザーに MFA を追加する。
2. ルートユーザーによるログインに IP 制限をかける。
3. キーを交換して、IAM ユーザーのパスワードを変更する。
4. すべての IAM ユーザーを削除する。
5. 管理者の IAM ユーザーを削除する。
6. すべての Amazon EC2 インスタンスを新しいロールで再起動する。
<details><div>
    答え：1,3,5
</div></details>

### Q. あなたは、Amazon EC2 インスタンスの大きなグループの管理を任されています。現在のセキュリティポリシーでは、インスタンスが更新されてから 7 日以内に最新のパッチで最新化する必要があります。セキュリティチームにはコンプライアンスの準拠非準拠に関係なく、インスタンスのリストも必要です。既存のプロセスは、手動作業による各ホストへのサインイン、更新の実行、次のインスタンスへの移動からなります。アプリケーションがスケールアウトすると、このプロセスは維持できなくなりました。 会社のセキュリティポリシーに準拠しながら、コンプライアンスを自動化する最良の方法はどれですか? (1 つ選択してください)
1. このタスクを実行する AWS Lambda 関数を記述します。環境変数としてキーペアをアップロードし、AWS Lambda 関数を各ホストにサインインし、リクエストされたコマンドを実行します。
2. AWS Systems Manager の実行コマンドを使用して、すべての EC2 インスタンスに更新をリモートで実行する。
3. AWS Systems Manager Patch Manager を使用してパッチベースラインを作成する。パッチグループ内に EC2 インスタンスを配置する。新しいパッチがインストールされたときに指示できるように、メンテナンスウィンドウを設定する。
4. AWS OpsWorks スタックを作成する。インスタンスをこのスタック内に移行し、インスタンスを更新するためのカスタム Chef レシピを記述する。Chef レシピを設定して、週単位で適用する。
<details><div>
    答え：3
</div></details>

### Q. あなたは現在、自社のアプリケーションコードのビルドプロセスを改善する業務を担当しています。チームとの話し合いで、AMI を構築できる継続的統合パイプラインを作成することになりました。 次のうち、この目標を達成する最適な方法はどれですか?(1 つ選択してください)
1. AWS Systems Manager Automation ドキュメントを作成し、必要なバージョンのアプリケーションを含む AMI を生成する。アプリケーションコードに変更があるたびにオートメーションドキュメントを実行する Jenkins ジョブを作成する。
2. AWS OpsWorks を使用して Amazon EBS-backed EC2 インスタンスを作成する。Chef レシピを記述して、EC2 インスタンスにアプリケーションをデプロイする。デプロイが完了してから、ルートボリュームのスナップショットを作成し、この Amazon EBS スナップショットをこのデプロイのアーティファクトとして使用する。
3. 必要なバージョンのアプリケーションを含む Systems Manager AMI Build ドキュメントを作成する。AWS CodeBuild プロジェクトを作成して、開発者個人の Git リポジトリのコードに変更があるたびに AMI Build ドキュメントを実行する。
4. AWS CodeDeploy の CreateNewAMI 機能を使用して、新しい AMI を生成する。AWS CodePipeline を使用して、このプロセスを整理する。これで、AWS CodeCommit リポジトリに対するプッシュがデプロイ用の新しい AMI を生成する。
<details><div>
    答え：1
</div></details>

### Q. 会社からは、すべての Amazon EC2 インスタンスにわたってタグ付け構造を強制し、後日監査できるようにする任務を指示されました。 会社の広範なタグ付けポリシーに準拠していない Amazon EC2 インスタンスをできるだけ早期に終了させるには、どうするのが最適ですか?(1 つ選択してください)
1. EC2 インスタンス内でコンプライアンスに違反しているタグ付け構造がないか確認するスクリプトを記述します。見つかった場合、そのインスタンスを終了します。このスクリプトをアカウント内のインスタンスから 1 時間に 1 回実行する cron ジョブとしてスケジューリングします。
2. AWS Lambda 関数を作成し、インフラストラクチャを確認し、コンプライアンスに違反しているインスタンスを探す。ポリシー違反が検出されたインスタンスは Amazon DynamoDB テーブルに書き込まれるようにする。別の AWS Lambda 関数を当該 Amazon DynamoDB テーブルにサブスクライブして、検出されたインスタンスを終了させる。
3. AWS Config 内のルールを設定し、コンプライアンスに違反している EC2 インスタンスを探す。見つかった場合、CloudWatch Event を使用して、カスタム Lambda 関数を実行し、リソースを終了させる。
4. 必要なタグを使用して EC2 インスタンスを作成する権限のみを持つ IAM ユーザーを作成する。このアカウントを会社内でインスタンスの作成権限を持つ唯一のアカウントとする。EC2 インスタンスを作成する際は常にこのアカウントを利用する。
<details><div>
    答え：3
</div></details>

### Q. Amazon SQS キューからのメッセージを処理するインスタンスの Auto Scaling グループがあります。グループはキューの深さに基づいてスケーリングされます。処理には、小さいジョブに分解することが難しい、CPU を大量に消費する実行時間の長いジョブが含まれます。グループがスケールインするとき、インスタンスが処理中に終了していることがわかりました。処理未完了数を費用対効果の高い方法で減らすには、どの解決策を採用すれば良いですか?(1 つ選択してください)
1. Auto Scaling グループの最小サイズと最大サイズを増やす。あまり積極的なスケールダウンをしないよう、スケーリングポリシーを変更する。
2. 新しい Auto Scaling グループを作成し、キューの深さによってスケーリングする。最初のグループがメッセージを受信すると、2 番目のグループが処理できるようにメッセージをポストする。
3. メッセージを処理中に EC2 インスタンスの終了保護を有効にして、処理が完了したら終了保護を無効化する。
4. アプリケーションを調整して、メッセージの処理中にインスタンスを Auto Scaling の Standby 状態にして、処理が終わったら InService 状態に戻す。
<details><div>
    答え：4
</div></details>

### Q. Amazon S3 をデータストアとして使用するコードリポジトリがあります。最近実施されたセキュリティ統制の監査の際に、Amazon S3 バケット内にあるデータの整合性の維持について懸念が何点か提起されました。さらに、Amazon S3 から Amazon VPC インスタンス内の Amazon EC2 で実行されているアプリケーションにコードをデプロイする際のセキュリティに関する懸念も提起されました。 これらの懸念を軽減するために導入できる手段はどれですか?(2 つ選択してください)
1. RFC 1918 に準拠した IP アドレスを使用する EC2 インスタンスからのアクセスのみを許可する条件ステートメントを含む Amazon S3 バケットポリシーを追加し、バケットのバージョニングを有効にする。
2. オブジェクトを削除する際に多要素認証を求める条件ステートメントを含む Amazon S3 バケットポリシーを追加し、バケットのバージョニングを有効にする。
3. 設定管理サービスを使用して IAM ユーザー認証情報を EC2 インスタンスにデプロイする。これらの認証情報を使用して、コードのデプロイ時に Amazon S3 バケットに安全にアクセスする。
4. Amazon S3 バケットへのアクセス権限をもつ IAM ロールを作成し、このロールでアプリケーションのすべての EC2 インスタンスを起動する。
5. AWS Data Pipeline を使用して、週 1 回 Amazon S3 バケット内のデータを Amazon Glacier に送信する。
6. AWS Data Pipeline と多要素認証を併用して、Amazon S3 バケットから EC2 インスタンスにコードを安全にデプロイする。
<details><div>
    答え：2,4
</div></details>

### Q. アプリケーションの最近のデプロイに問題があったと、開発者からあなたに連絡がありました。開発者は AWS CodeDeploy を使用して、Auto Scaling グループの一部として管理されるイミュータブルな EC2 インスタンスにコードをデプロイしています。新しい EC2 インスタンスはオンライン状態になり、コードはデプロイ済みで、インスタンスはロードバランサーの後方にアタッチされています。EC2 インスタンスはその後 Elastic Load Balancing のヘルスチェックに失敗し、終了しました。 この問題を解決するには、どのような方法がありますか?(2 つ選択してください)
1. Auto Scaling の ReplaceUnhealthy プロセスを停止する。これにより、開発者が壊れたマシンにサインインして、インスタンスの終了前に不具合をトラブルシューティングできるようになる。
2. ValidateCode チェックを Elastic Load Balancing に追加する。コードのデプロイ後、このカスタムスクリプトにより、コードがサービスに配置される前に正常に機能していることを確認する。
3. AWS CodeDeploy の Auto Scaling デプロイメント設定を有効にする。これにより、正常な EC2 インスタンスのみが Elastic Load Balancing にアタッチされる。
4. AWS CodeDeploy に ValidateCode イベントを追加する。コードのデプロイ後、このカスタムスクリプトにより、コードがサービスに配置される前に正常に機能していることを確認する。
5. Auto Scaling の Healthcheck プロセスを一時停止する。これにより、壊れた EC2 インスタンスが Elastic Load Balancing にアタッチされるのを防ぐ。
<details><div>
    答え：1,4
</div></details>

### Q. あなたのアプリケーションはロードバランサーの背後にある Amazon EC2 インスタンスで実行されるウェブサーバー層から構成されており、あなたは Amazon RDS を使用しています。 費用対効果に優れ、自己修復機能を搭載したアーキテクチャを実装するには、以下のうちどの方法を採用すべきですか?(1 つ選択してください)
1. 異常な EC2 インスタンスを特定して交換するために、各 EC2 インスタンスで、ロードバランサーに UDP ping を頻繁に送信するためのスクリプトをセットアップする。
2. 異常な EC2 インスタンスの終了と交換をトリガーするカスタム CloudWatch メトリクスを発行するために、Auto Scaling を使用して EC2 インスタンスのクラスターでサードパーティー製のモニタリングソリューションをセットアップする。
3. ウェブサーバー層用の Auto Scaling 起動設定とともに、Amazon RDS DB の CPU 使用率に関する CloudWatch メトリクスを使用して EC2 インスタンスをスケールする Auto Scaling ポリシーをセットアップする。
4. EC2 インスタンスのウェブサーバー層用の Auto Scaling グループとともに、EC2 の CPU 使用率に関する CloudWatch メトリクスを使用してインスタンスをスケールする Auto Scaling ポリシーをセットアップする。
5. ウェブサーバー層により大きい EC2 インスタンスタイプを、データストレージ層により大きい DB インスタンスタイプを使用して、これらの層が異常な状態に陥らないようにする。
<details><div>
    答え：4
</div></details>

### Q. Elastic Load Balancing の背後にある Amazon EC2 インスタンスで実行されている複数層で構成された、会社の大規模なウェブアプリケーションを管理しています。メトリクスの確認中に、カスタマーページのロード時間が遅くなってきていることに気が付きました。マネージャーは、1 秒あたりのリクエスト数が過度に多くなっても顧客によるロード時間が影響を受けないようにするソリューションを考案するよう求めています。この問題を解決するには、どの手法を採用しますか?(1 つ選択してください)
1. 各 EC2 インスタンスに別の Elastic Network Interface (ENI) を作成してアタッチして、各 EC2 インスタンスのレイテンシーを低減する。
2. AWS CloudFormation テンプレートを使用してインフラストラクチャを再デプロイする。2 つ目の AWS CloudFormation スタックをスピンアップする。すべての低速な接続を 2 つ目の AWS CloudFormation スタックにリダイレクトするように Elastic Load Balancing の SurgeQueue 機能を設定する。
3. AWS CloudFormation、Elastic Beanstalk、Auto Scaling を使用して、アプリケーションを再デプロイする。現在の顧客によるロード時間だけでなく、1 秒あたりのリクエスト数にも基づいてスケールするように Auto Scaling グループポリシーを設定する。
4. Auto Scaling テンプレートを使用してアプリケーションを再デプロイする。顧客によるロード時間が指定したしきい値を超えた場合に新しい Elastic Beanstalk アプリケーションを迅速に起動するよう Auto Scaling テンプレートを設定する。
<details><div>
    答え：3
</div></details>

### Q. EC2 リソースの Auto Scaling グループ 1 つと S3 バケット 2 つからなるアプリケーションがあります。その EC2 インスタンスでは、最初の S3 バケットからイメージを作成したユーザーをダウンロードして、ウォーターマークを適用し、別の S3 バケットに写真をアップロードする作業を行います。Auto Scaling グループの最小サイズは 25 で、最大サイズは 50 です。以前のトラフィックパターンに基づき、40 インスタンスにスケールするべきではありません。現在、Auto Scaling グループには 50 インスタンスありますが、処理されているイメージはほとんどありません。 どのようにこの問題の根本原因を突きとめますか?(1 つ選択してください)
1. 現在 EC2 アーキテクチャに割り当てられているロールに権限の問題がないか、再確認する。IAM ポリシーにおける最近の変更が、この問題の原因となっている可能性がある。
2. Auto Scaling グループのサイズを 100 に増やす。イメージが処理されたら、サイズを 50 に縮小する。
3. アプリケーションログを分析し、考えられる障害の原因を探す。
4. 既存のインスタンスを終了して、新しい AMI から Auto Scaling グループを再構築する。
5. CloudTrail で、最近、Auto Scaling がイメージ処理に十分なオンラインリソースを供給するのを妨げた可能性のあるスケーリングエラーがなかったか調べる。
<details><div>
    答え：3
</div></details>

### Q. 
1. 
2. 
3. 
4. 
<details><div>
    答え：
</div></details>

### Q. 
1. 
2. 
3. 
4. 
<details><div>
    答え：
</div></details>

### Q. 
1. 
2. 
3. 
4. 
<details><div>
    答え：
</div></details>
