#
## 機械学習ソリューションの設計と準備 (20 - 25%)
### Microsoft Azure AI Fundamentals: 機械学習用のビジュアル ツールについて調べる
#### Azure Machine Learning で自動機械学習を使用する
* 機械学習とは
    + 機械学習は、数学と統計を使用して、不明な値を予測できるモデルを作成する手法です
* 教師あり
    + 回帰: 継続的な値を予測するために使用されます (価格、売上の合計、その他の測定値など)。
    + 分類: バイナリ クラス ラベルを決定するために使用されます (患者が糖尿病にかかっているかどうかなど)。
* 教師なし
    + クラスタリング: 類似する情報をラベル グループにグループ化してラベルを決定するために使用されます (鳥から種への、測定値のグループ化など)。
* Azure Machine Learning スタジオ
    + ワークスペース
    + コンピューティング インスタンス: データ サイエンティストがデータおよびモデルを操作するために使用できる開発ワークステーション。
    + コンピューティング クラスター: 実験コードをオンデマンドで処理するための、仮想マシンのスケーラブルなクラスター。
    + 推論クラスター: トレーニング済みモデルを使用する予測サービスのデプロイ ターゲット。
    + アタッチされたコンピューティング: Virtual Machines や Azure Databricks クラスターなど、既存の Azure コンピューティング リソースへのリンク。
* 自動機械学習
* AutoMLプロセス
    1. データの準備: データセットの特徴とラベルを特定します。 必要に応じて、データの事前処理、クリーニング、変換を行います。
    2. モデルのトレーニング: データを、2 つのグループ (トレーニング セットと検証セット) に分割します。 トレーニング データセットを使用して機械学習モデルをトレーニングします。 検証データセットを使用して、機械学習モデルのパフォーマンスをテストします。
    3. パフォーマンスの評価: モデルの予測と既知のラベルを比較してどの程度近いかを評価します。
    4. 予測サービスをデプロイする: 機械学習モデルをトレーニングしたら、サーバーまたはデバイスでモデルをアプリケーションとしてデプロイして、他のユーザーがそれを使用できるようにすることができます。
#### Azure Machine Learning デザイナーを使用して回帰モデルを作成する
* 回帰機械学習シナリオを特定する
    + 回帰では、変数または "特徴" に基づいて数値 "ラベル" または結果を予測します。
    + 平方フィートや部屋数など、住宅の特性を使用して住宅価格を予測します。
    + 天候や土壌の質など、農場環境の特性を使用し、作物の収穫量を予測します。
    + 広告ログなど、過去のキャンペーンの特性を使用し、将来の広告クリック数を予測します。
* Azure Machine Learning デザイナーを使用して回帰モデルをトレーニングする
    + ラベルの特徴と既知の値の両方を含むデータを使用してモデルをトレーニングする
* 回帰の手順
    1. データの準備: データセットの特徴とラベルを特定します。 必要に応じて、データの事前処理、クリーニング、変換を行います。
    2. モデルのトレーニング: データを、2 つのグループ (トレーニング セットと検証セット) に分割します。 トレーニング データセットを使用して機械学習モデルをトレーニングします。 検証データセットを使用して、機械学習モデルのパフォーマンスをテストします。
    3. パフォーマンスの評価: モデルの予測と既知のラベルを比較してどの程度近いかを評価します。
    4. 予測サービスのデプロイ: 機械学習モデルをトレーニングしたら、トレーニング パイプラインをリアルタイム推論パイプラインに変換する必要があります。 その後、他のユーザーが使用できるようにモデルをアプリケーションとしてサーバーまたはデバイスにデプロイできます。
* モデルの評価
    + 平均絶対誤差 (MAE):予測値と真の値の差の平均。 この値は、ラベルと同じ単位 (この例ではドル) に基づいています。 この値が小さいほど、モデルの予測が正確です。
    + 二乗平均平方根誤差 (RMSE):予測と真の値の平均二乗の平方根の差。 結果は、ラベルと同じ単位 (ドル) に基づくメトリックになります。 MAE (上記) と比較すると、差が大きいほど個々の誤差の分散が大きくなることを示します (たとえば、一部の誤差が非常に小さく、他の誤差が大きい場合など)。
    + 相対二乗誤差 (RSE):予測と真の値の差の 2 乗に基づく、0 から 1 の間の相対的なメトリック。 このメトリックが 0 に近いほど、モデルのパフォーマンスが高くなります。 このメトリックは相対的なものであるため、ラベルの単位が異なるモデルを比較するために使用できます。
    + 相対絶対誤差 (RAE):予測と真の値の絶対差に基づく、0 から 1 の間の相対的なメトリック。 このメトリックが 0 に近いほど、モデルのパフォーマンスが高くなります。 RSE と同様に、このメトリックは、ラベルの単位が異なるモデルを比較するために使用できます。
    + 決定係数 (R2):このメトリックは、通常は "R-2 乗" と呼ばれ、予測と真の値の間の分散の量がモデルによって説明される方法を要約します。 この値が 1 に近いほど、モデルのパフォーマンスが高くなります。
* 推論に回帰モデルを使用する
* 回帰モデルをサービスとしてデプロイする
#### Azure Machine Learning デザイナーを使用して分類モデルを作成する
* 分類機械学習のシナリオを特定する。
    + 臨床データを使用して、患者が病気になるかどうかを予測する
    + 履歴データを使用し、テキストのセンチメントが肯定的か、否定的か、中立かを予測します。
    + 小規模企業の特性を使用して、新しいベンチャー企業が成功するかどうかを予測する
* Azure Machine Learning デザイナーを使用して分類モデルをトレーニングする。
    1. データの準備: データセットの特徴とラベルを特定します。 必要に応じて、データの事前処理、クリーニング、変換を行います。
    2. モデルのトレーニング: データを、2 つのグループ (トレーニング セットと検証セット) に分割します。 トレーニング データセットを使用して機械学習モデルをトレーニングします。 検証データセットを使用して、機械学習モデルのパフォーマンスをテストします。
    3. パフォーマンスの評価: モデルの予測と既知のラベルを比較してどの程度近いかを評価します。
    4. 予測サービスのデプロイ: 機械学習モデルをトレーニングしたら、トレーニング パイプラインをリアルタイム推論パイプラインに変換する必要があります。 次に、他のユーザーが使用できるようにモデルをアプリケーションとしてサーバーまたはデバイスにデプロイできます。
* 推論に分類モデルを使用する。
* 混同行列
    + 正確性: 予測の合計数に対する正しい予測 (真陽性 + 真陰性) の比率。
    + 精度: 陽性として分類され、実際に陽性だったケースの割合 (真陽性の数を真陽性と擬陽性の合計数で割った値)。
    + 再現率: 正しく識別された陽性のケースの割合 (真陽性の数を真陽性と擬陰性の合計数で割った値)。
    + F1 スコア: 実質的に精度と再現率を組み合わせた、全体的なメトリック。
* 閾値
* ROC 曲線と AUC メトリック
* 分類モデルをデプロイし、テストする。
    + 推論パイプライン
#### Azure Machine Learning デザイナーを使用してクラスタリング モデルを作成する
* Azure Machine Learning デザイナーを使用して、クラスタリング モデルをトレーニングする。
* 推論にクラスタリング モデルを使用する。
* クラスタリング モデルをサービスとしてデプロイする。

### Azure Machine Learning を使用した機械学習ソリューションの構築と運用
#### Azure Machine Learning SDK の概要
#### Azure Machine Learning を使用して機械学習モデルをトレーニングする
#### Azure Machine Learning でのデータの操作
#### Azure Machine Learning でのコンピューティング処理
#### パイプラインを使用して機械学習を調整する
#### Azure Machine Learning を使用してリアルタイム機械学習サービスをデプロイする
#### Azure Machine Learning を使用してバッチ推論パイプラインをデプロイする
#### Azure Machine Learning でハイパーパラメーターを調整する
#### Azure Machine Learning service で機械学習モデルの選択を自動化する
#### 差分プライバシーを探索する
#### Azure Machine Learning を使用して機械学習モデルを説明する
#### Azure Machine Learning を使用したモデルの不公平性の検出と緩和
#### Azure Machine Learning を使用してモデルを監視する
#### Azure Machine Learning を使用してデータ ドリフトを監視する
#### Azure Machine Learning のセキュリティの概念について調べる

## データの探索とモデルのトレーニング (35 - 40%)
### 機械学習モデルを作成する
#### Python を使用してデータを探索して分析する
* NumPy と Pandas を使用すると、データの分析と操作が簡略化されます
* Matplotlib では、魅力的なデータ視覚化が提供されます
* Scikit-learn では、シンプルで効果的な予測データ分析が提供されます
* TensorFlow と PyTorch では、機械学習とディープ ラーニングの機能が提供されます
* データの視覚化：Matplotlib 
    + matplotlib を使ってグラフを作成した
    + グラフをカスタマイズする方法を見た
    + 中央値のような基本的な統計量を計算した
    + 箱ひげ図やヒストグラムを使ってデータの広がりを見た
    + サンプルと母集団について学んだ
    + 成績のサンプルからグラフの母集団がどのように見えるかを推定した。
* 実際のデータの問題
    + 欠損値と記録データの不備を検査する
    + 明らかな外れ値の削除を検討する
    + 分析に影響を与える可能性のある実際の要因を考慮し、データセットのサイズがこの問題に対応できるだけの大きさであるかどうかを検討する
    + 生データに偏りがないか検査し、見つかった場合は修正するためのオプションを検討する
#### 回帰モデルをトレーニングして評価する
* 回帰とは
    + 回帰は、観察される対象の特性を表すデータの変数 ("特徴" と呼ばれます) と、予測しようとしている変数 ("ラベル" と呼ばれます) の間にリレーションシップを確立することによって機能します。
* 回帰モデル
    + 線形回帰は最も単純な回帰形式で、使用される特徴の数に制限はありません。 線形回帰には多くの形式があります。多くの場合、使用される特徴の数と、適合する曲線の形状によって名前が付けらます。
    + デシジョン ツリーでは、変数を予測するためのステップ バイ ステップのアプローチが採用されています。 自転車の例で考える場合、デシジョン ツリーで、最初に春夏と秋冬に分割し、それを曜日に基づいて予測することができます。 春夏の月曜日の自転車レンタル料金を 1 日あたり 100 に設定し、秋冬の月曜日のレンタル料金を 1 日あたり 20 に設定することができます。
    + アンサンブル アルゴリズムでは、1 つのデシジョン ツリーだけでなく、多数のツリーが構築されるため、より複雑なデータに対するより優れた予測が可能になります。 ランダム フォレストなどのアンサンブル アルゴリズムは、強力な予測機能により、機械学習や科学で広く使用されています。
* モデルの改善
    + データの前処理
    + ハイパーパラメータの調整
#### 分類モデルをトレーニングして評価する
* 分類とは
    + 分類は、"教師あり" の機械学習手法の例です。つまり、既知の "特徴" 値 (たとえば、患者の診断測定値) および既知の "ラベル" 値 (たとえば、非糖尿病または糖尿病の分類) を含むデータに依存することを意味します。 
* 他クラス分類
    + 複数の2項分類の組み合わせ
#### クラスタリング モデルをトレーニングして評価する
* クラスタリングとは
    + クラスタリングは、オブジェクトの類似性に基づいてオブジェクトをグループ化するプロセスです。 
    + クラスタリングと分類のモデルの主な違いは、クラスタリングが "教師なし" メソッドであり、"トレーニング" がラベルなしで行われる点です。 
    + どのようにしてデータをいくつのクラスタに分けるかを知ることができるかということです。この問題を解決する一つの方法は、データサンプルを使って、クラスタ数を増加させたクラスタリングモデルを作成し、各クラスタ内でデータポイントがどれだけ厳密にグループ化されたかを測定することである。この緊密さを測定するためによく使われる指標は、クラスタ内平方和（WCSS）で、値が小さいほどデータポイントが近いことを意味します。
* K-Means クラスタリング
* 階層クラスタリング
    + データをグループに分割するだけでなく、これらのグループ間の関係を理解するのにも役立つ
#### ディープ ラーニング モデルをトレーニングして評価する
* トレーニング
* 損失関数と逆伝播
* 学習率と過学習
* 畳み込みニューラルネットワーク：CNN
    + ドロップ層
    + 平坦化層
    + 完全に接続された層
* 転移学習


## デプロイ用のモデルを準備する (20 - 25%)
### Azure Databricks を使用した機械学習ソリューションの構築と運用
#### Azure Databricks を使ってみる
#### Azure Databricks でデータを操作する
#### Azure Databricks を使用して機械学習用のデータを準備する
#### Azure Databricks を使用して機械学習モデルをトレーニングする
#### MLflow を使用して Azure Databricks で実験を追跡する
#### Azure Databricks で機械学習モデルを管理する
#### Azure Machine Learning で Azure Databricks の実験を追跡する
#### Azure Machine Learning に Azure Databricks モデルをデプロイする
#### Azure Databricks でハイパーパラメーターを調整する
#### Horovod と Azure Databricks を使用した分散ディープ ラーニング

## モデルのデプロイと再トレーニング (10 - 15%)


https://github.com/MicrosoftLearning/DP-100JA-Designing-and-Implementing-a-Data-Science-Solution/blob/master/labdocs/README.md